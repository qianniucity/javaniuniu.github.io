I"I<h4 id="一句话简介">一句话简介</h4>
<p>Java Persistence API定义了一种定义，可以将常规的普通Java对象（有时被称作POJO）映射到数据库</p>

<h4 id="映射规则">映射规则：</h4>
<ol>
  <li>实体类__必须__用 @javax.persistence.<strong>Entity</strong> 进行注解；</li>
  <li><strong>必须__使用 @javax.persistence.__Id</strong> 来注解一个主键；</li>
  <li>实体类必须拥有一个 <strong>public 或者 protected</strong> 的 <strong>无参</strong> 构造函数，之外实体类还可以拥有其他的构造函数；</li>
  <li>实体类必须是一个 <strong>顶级类</strong>（top-level class）。一个枚举（enum）或者一个接口（interface）不能被注解为一个实体；</li>
  <li>实体类不能是 <strong>final</strong> 类型的，也 <strong>不能有 final</strong> 类型的方法；</li>
  <li>如果实体类的一个实例需要用传值的方式调用（例如，远程调用），则这个实体类必须实现（implements）java.io.Serializable 接口。 <br />
不与@Table结合的话 表名 默认为 SnakeCaseStrategy(命名策略 )为表名<br />
 若使用 name属性 且没有与@Table结合 则表名为 name值的SnakeCaseStrategy(命名策略 )<br />
 例如：<br />
  @Entity<br />
      public class UserEntity{…} 表名 user_entity<br />
  @Entity(name=”UE”)<br />
      public class UserEntity{…} 表名 ue<br />
  @Entity(name=”UsEntity”)<br />
      public class UserEntity{…} 表名 us_entity</li>
</ol>

<h4 id="映射规则可以通过使用-table-和-column-注解修改">映射规则可以通过使用 @Table 和 @Column 注解修改</h4>
<h5 id="table">@Table</h5>
<ul>
  <li>@Table注解的常用选项是 name，用于指明数据库的表名</li>
  <li>@Table注解还有两个选项 catalog 和 schema 用于设置表所属的数据库目录或模式，通常为数据库名</li>
</ul>

<h5 id="column">@Column</h5>
<p>如果缺省@Table注解，则class字段名即表中的字段名，所以需要@Column注解来改变class中字段名与db中表的字段名的映射规则</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>@Column注释定义了将成员属性映射到关系表中的哪一列和该列的结构信息，属性如下：
　　1）name：映射的列名。如：映射tbl_user表的name列，可以在name属性的上面或getName方法上面加入；
　　2）unique：是否唯一；
　　3）nullable：是否允许为空；
　　4）length：对于字符型列，length属性指定列的最大字符长度；
　　5）insertable：是否允许插入；
　　6）updatetable：是否允许更新；
　　7）columnDefinition：定义建表时创建此列的DDL；
　　8）secondaryTable：从表名。如果此列不建在主表上（默认是主表），该属性定义该列所在从表的名字
</code></pre></div></div>

<h4 id="hibernate中entity和table的区别">hibernate中@Entity和@Table的区别：</h4>
<p>@Entity说明这个class是实体类，并且使用默认的orm规则，即class名即数据库表中表名，class字段名即表中的字段名
如果想改变这种默认的orm规则，就要使用@Table来改变class名与数据库中表名的映射规则，@Column来改变class中字段名与db中表的字段名的映射规则</p>

<h4 id="entity">@Entity</h4>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[@Entity]  
   必须与@Id注解 结合使用  
     否则  No identifier specified for entity:   
   name 属性  
    (可选)实体名称。 缺省为实体类的非限定名称。   
        该名称用于引用查询中的实体。  
        该名称不能是Java持久性查询语言中的保留字面值。  

   不与@Table结合的话 表名 默认为 SnakeCaseStrategy(命名策略 )为表名  
    若使用 name属性 且没有与@Table结合 则表名为 name值的SnakeCaseStrategy(命名策略 )  
    例如：  
        @Entity  
            public class UserEntity{...} 表名 user_entity  
        @Entity(name="UE")  
            public class UserEntity{...} 表名 ue  
        @Entity(name="UsEntity")  
            public class UserEntity{...} 表名 us_entity
</code></pre></div></div>

<h4 id="id">@id</h4>
<p>如果是主键id，还会用到@Id注解</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>@Id注释指定表的主键，它可以有多种生成方式：
　　1）TABLE：容器指定用底层的数据表确保唯一；
　　2）SEQUENCE：使用数据库德SEQUENCE列莱保证唯一（Oracle数据库通过序列来生成唯一ID）；
　　3）IDENTITY：使用数据库的IDENTITY列莱保证唯一；
　　4）AUTO：由容器挑选一个合适的方式来保证唯一；
　　5）NONE：容器不负责主键的生成，由程序来完成。
</code></pre></div></div>
:ET