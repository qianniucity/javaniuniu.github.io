I"˜<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cm">/** -------------------keyç›¸å…³æ“ä½œ--------------------- */</span>

    <span class="cm">/**
     * åˆ é™¤key
     *
     * @param key
     */</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">delete</span><span class="o">(</span><span class="nc">String</span> <span class="n">key</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">redisTemplate</span><span class="o">.</span><span class="na">delete</span><span class="o">(</span><span class="n">key</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="cm">/**
     * æ‰¹é‡åˆ é™¤key
     *
     * @param keys
     */</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">delete</span><span class="o">(</span><span class="nc">Collection</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">keys</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">redisTemplate</span><span class="o">.</span><span class="na">delete</span><span class="o">(</span><span class="n">keys</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="cm">/**
     * åºåˆ—åŒ–key
     *
     * @param key
     * @return
     */</span>
    <span class="kd">public</span> <span class="kt">byte</span><span class="o">[]</span> <span class="nf">dump</span><span class="o">(</span><span class="nc">String</span> <span class="n">key</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">redisTemplate</span><span class="o">.</span><span class="na">dump</span><span class="o">(</span><span class="n">key</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="cm">/**
     * æ˜¯å¦å­˜åœ¨key
     *
     * @param key
     * @return
     */</span>
    <span class="kd">public</span> <span class="nc">Boolean</span> <span class="nf">hasKey</span><span class="o">(</span><span class="nc">String</span> <span class="n">key</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">redisTemplate</span><span class="o">.</span><span class="na">hasKey</span><span class="o">(</span><span class="n">key</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="cm">/**
     * è®¾ç½®è¿‡æœŸæ—¶é—´
     *
     * @param key
     * @param timeout
     * @param unit
     * @return
     */</span>
    <span class="kd">public</span> <span class="nc">Boolean</span> <span class="nf">expire</span><span class="o">(</span><span class="nc">String</span> <span class="n">key</span><span class="o">,</span> <span class="kt">long</span> <span class="n">timeout</span><span class="o">,</span> <span class="nc">TimeUnit</span> <span class="n">unit</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">redisTemplate</span><span class="o">.</span><span class="na">expire</span><span class="o">(</span><span class="n">key</span><span class="o">,</span> <span class="n">timeout</span><span class="o">,</span> <span class="n">unit</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="cm">/**
     * è®¾ç½®è¿‡æœŸæ—¶é—´
     *
     * @param key
     * @param date
     * @return
     */</span>
    <span class="kd">public</span> <span class="nc">Boolean</span> <span class="nf">expireAt</span><span class="o">(</span><span class="nc">String</span> <span class="n">key</span><span class="o">,</span> <span class="nc">Date</span> <span class="n">date</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">redisTemplate</span><span class="o">.</span><span class="na">expireAt</span><span class="o">(</span><span class="n">key</span><span class="o">,</span> <span class="n">date</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="cm">/**
     * æŸ¥æ‰¾åŒ¹é…çš„key
     *
     * @param pattern
     * @return
     */</span>
    <span class="kd">public</span> <span class="nc">Set</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="nf">keys</span><span class="o">(</span><span class="nc">String</span> <span class="n">pattern</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">redisTemplate</span><span class="o">.</span><span class="na">keys</span><span class="o">(</span><span class="n">pattern</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="cm">/**
     * å°†å½“å‰æ•°æ®åº“çš„ key ç§»åŠ¨åˆ°ç»™å®šçš„æ•°æ®åº“ db å½“ä¸­
     *
     * @param key
     * @param dbIndex
     * @return
     */</span>
    <span class="kd">public</span> <span class="nc">Boolean</span> <span class="nf">move</span><span class="o">(</span><span class="nc">String</span> <span class="n">key</span><span class="o">,</span> <span class="kt">int</span> <span class="n">dbIndex</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">redisTemplate</span><span class="o">.</span><span class="na">move</span><span class="o">(</span><span class="n">key</span><span class="o">,</span> <span class="n">dbIndex</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="cm">/**
     * ç§»é™¤ key çš„è¿‡æœŸæ—¶é—´ï¼Œkey å°†æŒä¹…ä¿æŒ
     *
     * @param key
     * @return
     */</span>
    <span class="kd">public</span> <span class="nc">Boolean</span> <span class="nf">persist</span><span class="o">(</span><span class="nc">String</span> <span class="n">key</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">redisTemplate</span><span class="o">.</span><span class="na">persist</span><span class="o">(</span><span class="n">key</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="cm">/**
     * è¿”å› key çš„å‰©ä½™çš„è¿‡æœŸæ—¶é—´
     *
     * @param key
     * @param unit
     * @return
     */</span>
    <span class="kd">public</span> <span class="nc">Long</span> <span class="nf">getExpire</span><span class="o">(</span><span class="nc">String</span> <span class="n">key</span><span class="o">,</span> <span class="nc">TimeUnit</span> <span class="n">unit</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">redisTemplate</span><span class="o">.</span><span class="na">getExpire</span><span class="o">(</span><span class="n">key</span><span class="o">,</span> <span class="n">unit</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="cm">/**
     * è¿”å› key çš„å‰©ä½™çš„è¿‡æœŸæ—¶é—´
     *
     * @param key
     * @return
     */</span>
    <span class="kd">public</span> <span class="nc">Long</span> <span class="nf">getExpire</span><span class="o">(</span><span class="nc">String</span> <span class="n">key</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">redisTemplate</span><span class="o">.</span><span class="na">getExpire</span><span class="o">(</span><span class="n">key</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="cm">/**
     * ä»å½“å‰æ•°æ®åº“ä¸­éšæœºè¿”å›ä¸€ä¸ª key
     *
     * @return
     */</span>
    <span class="kd">public</span> <span class="nc">String</span> <span class="nf">randomKey</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">redisTemplate</span><span class="o">.</span><span class="na">randomKey</span><span class="o">();</span>
    <span class="o">}</span>

    <span class="cm">/**
     * ä¿®æ”¹ key çš„åç§°
     *
     * @param oldKey
     * @param newKey
     */</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">rename</span><span class="o">(</span><span class="nc">String</span> <span class="n">oldKey</span><span class="o">,</span> <span class="nc">String</span> <span class="n">newKey</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">redisTemplate</span><span class="o">.</span><span class="na">rename</span><span class="o">(</span><span class="n">oldKey</span><span class="o">,</span> <span class="n">newKey</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="cm">/**
     * ä»…å½“ newkey ä¸å­˜åœ¨æ—¶ï¼Œå°† oldKey æ”¹åä¸º newkey
     *
     * @param oldKey
     * @param newKey
     * @return
     */</span>
    <span class="kd">public</span> <span class="nc">Boolean</span> <span class="nf">renameIfAbsent</span><span class="o">(</span><span class="nc">String</span> <span class="n">oldKey</span><span class="o">,</span> <span class="nc">String</span> <span class="n">newKey</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">redisTemplate</span><span class="o">.</span><span class="na">renameIfAbsent</span><span class="o">(</span><span class="n">oldKey</span><span class="o">,</span> <span class="n">newKey</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="cm">/**
     * è¿”å› key æ‰€å‚¨å­˜çš„å€¼çš„ç±»å‹
     *
     * @param key
     * @return
     */</span>
    <span class="kd">public</span> <span class="nc">DataType</span> <span class="nf">type</span><span class="o">(</span><span class="nc">String</span> <span class="n">key</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">redisTemplate</span><span class="o">.</span><span class="na">type</span><span class="o">(</span><span class="n">key</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="cm">/** -------------------stringç›¸å…³æ“ä½œ--------------------- */</span>

    <span class="cm">/**
     * è®¾ç½®æŒ‡å®š key çš„å€¼
     *
     * @param key
     * @param value
     */</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">set</span><span class="o">(</span><span class="nc">String</span> <span class="n">key</span><span class="o">,</span> <span class="nc">String</span> <span class="n">value</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">redisTemplate</span><span class="o">.</span><span class="na">opsForValue</span><span class="o">().</span><span class="na">set</span><span class="o">(</span><span class="n">key</span><span class="o">,</span> <span class="n">value</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="cm">/**
     * è·å–æŒ‡å®š key çš„å€¼
     *
     * @param key
     * @return
     */</span>
    <span class="kd">public</span> <span class="nc">String</span> <span class="nf">get</span><span class="o">(</span><span class="nc">String</span> <span class="n">key</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">redisTemplate</span><span class="o">.</span><span class="na">opsForValue</span><span class="o">().</span><span class="na">get</span><span class="o">(</span><span class="n">key</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="cm">/**
     * è¿”å› key ä¸­å­—ç¬¦ä¸²å€¼çš„å­å­—ç¬¦
     *
     * @param key
     * @param start
     * @param end
     * @return
     */</span>
    <span class="kd">public</span> <span class="nc">String</span> <span class="nf">getRange</span><span class="o">(</span><span class="nc">String</span> <span class="n">key</span><span class="o">,</span> <span class="kt">long</span> <span class="n">start</span><span class="o">,</span> <span class="kt">long</span> <span class="n">end</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">redisTemplate</span><span class="o">.</span><span class="na">opsForValue</span><span class="o">().</span><span class="na">get</span><span class="o">(</span><span class="n">key</span><span class="o">,</span> <span class="n">start</span><span class="o">,</span> <span class="n">end</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="cm">/**
     * å°†ç»™å®š key çš„å€¼è®¾ä¸º value ï¼Œå¹¶è¿”å› key çš„æ—§å€¼(old value)
     *
     * @param key
     * @param value
     * @return
     */</span>
    <span class="kd">public</span> <span class="nc">String</span> <span class="nf">getAndSet</span><span class="o">(</span><span class="nc">String</span> <span class="n">key</span><span class="o">,</span> <span class="nc">String</span> <span class="n">value</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">redisTemplate</span><span class="o">.</span><span class="na">opsForValue</span><span class="o">().</span><span class="na">getAndSet</span><span class="o">(</span><span class="n">key</span><span class="o">,</span> <span class="n">value</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="cm">/**
     * å¯¹ key æ‰€å‚¨å­˜çš„å­—ç¬¦ä¸²å€¼ï¼Œè·å–æŒ‡å®šåç§»é‡ä¸Šçš„ä½(bit)
     *
     * @param key
     * @param offset
     * @return
     */</span>
    <span class="kd">public</span> <span class="nc">Boolean</span> <span class="nf">getBit</span><span class="o">(</span><span class="nc">String</span> <span class="n">key</span><span class="o">,</span> <span class="kt">long</span> <span class="n">offset</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">redisTemplate</span><span class="o">.</span><span class="na">opsForValue</span><span class="o">().</span><span class="na">getBit</span><span class="o">(</span><span class="n">key</span><span class="o">,</span> <span class="n">offset</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="cm">/**
     * æ‰¹é‡è·å–
     *
     * @param keys
     * @return
     */</span>
    <span class="kd">public</span> <span class="nc">List</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="nf">multiGet</span><span class="o">(</span><span class="nc">Collection</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">keys</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">redisTemplate</span><span class="o">.</span><span class="na">opsForValue</span><span class="o">().</span><span class="na">multiGet</span><span class="o">(</span><span class="n">keys</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="cm">/**
     * è®¾ç½®ASCIIç , å­—ç¬¦ä¸²'a'çš„ASCIIç æ˜¯97, è½¬ä¸ºäºŒè¿›åˆ¶æ˜¯'01100001', æ­¤æ–¹æ³•æ˜¯å°†äºŒè¿›åˆ¶ç¬¬offsetä½å€¼å˜ä¸ºvalue
     *
     * @param key
     * @param postion
     *         ä½ç½®
     * @param value
     *         å€¼,trueä¸º1, falseä¸º0
     * @return
     */</span>
    <span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">setBit</span><span class="o">(</span><span class="nc">String</span> <span class="n">key</span><span class="o">,</span> <span class="kt">long</span> <span class="n">offset</span><span class="o">,</span> <span class="kt">boolean</span> <span class="n">value</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">redisTemplate</span><span class="o">.</span><span class="na">opsForValue</span><span class="o">().</span><span class="na">setBit</span><span class="o">(</span><span class="n">key</span><span class="o">,</span> <span class="n">offset</span><span class="o">,</span> <span class="n">value</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="cm">/**
     * å°†å€¼ value å…³è”åˆ° key ï¼Œå¹¶å°† key çš„è¿‡æœŸæ—¶é—´è®¾ä¸º timeout
     *
     * @param key
     * @param value
     * @param timeout
     *         è¿‡æœŸæ—¶é—´
     * @param unit
     *         æ—¶é—´å•ä½, å¤©:TimeUnit.DAYS å°æ—¶:TimeUnit.HOURS åˆ†é’Ÿ:TimeUnit.MINUTES ç§’:TimeUnit.SECONDS
     *         æ¯«ç§’:TimeUnit.MILLISECONDS
     */</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setEx</span><span class="o">(</span><span class="nc">String</span> <span class="n">key</span><span class="o">,</span> <span class="nc">String</span> <span class="n">value</span><span class="o">,</span> <span class="kt">long</span> <span class="n">timeout</span><span class="o">,</span> <span class="nc">TimeUnit</span> <span class="n">unit</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">redisTemplate</span><span class="o">.</span><span class="na">opsForValue</span><span class="o">().</span><span class="na">set</span><span class="o">(</span><span class="n">key</span><span class="o">,</span> <span class="n">value</span><span class="o">,</span> <span class="n">timeout</span><span class="o">,</span> <span class="n">unit</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="cm">/**
     * åªæœ‰åœ¨ key ä¸å­˜åœ¨æ—¶è®¾ç½® key çš„å€¼
     *
     * @param key
     * @param value
     * @return ä¹‹å‰å·²ç»å­˜åœ¨è¿”å›false, ä¸å­˜åœ¨è¿”å›true
     */</span>
    <span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">setIfAbsent</span><span class="o">(</span><span class="nc">String</span> <span class="n">key</span><span class="o">,</span> <span class="nc">String</span> <span class="n">value</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">redisTemplate</span><span class="o">.</span><span class="na">opsForValue</span><span class="o">().</span><span class="na">setIfAbsent</span><span class="o">(</span><span class="n">key</span><span class="o">,</span> <span class="n">value</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="cm">/**
     * ç”¨ value å‚æ•°è¦†å†™ç»™å®š key æ‰€å‚¨å­˜çš„å­—ç¬¦ä¸²å€¼ï¼Œä»åç§»é‡ offset å¼€å§‹
     *
     * @param key
     * @param value
     * @param offset
     *         ä»æŒ‡å®šä½ç½®å¼€å§‹è¦†å†™
     */</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setRange</span><span class="o">(</span><span class="nc">String</span> <span class="n">key</span><span class="o">,</span> <span class="nc">String</span> <span class="n">value</span><span class="o">,</span> <span class="kt">long</span> <span class="n">offset</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">redisTemplate</span><span class="o">.</span><span class="na">opsForValue</span><span class="o">().</span><span class="na">set</span><span class="o">(</span><span class="n">key</span><span class="o">,</span> <span class="n">value</span><span class="o">,</span> <span class="n">offset</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="cm">/**
     * è·å–å­—ç¬¦ä¸²çš„é•¿åº¦
     *
     * @param key
     * @return
     */</span>
    <span class="kd">public</span> <span class="nc">Long</span> <span class="nf">size</span><span class="o">(</span><span class="nc">String</span> <span class="n">key</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">redisTemplate</span><span class="o">.</span><span class="na">opsForValue</span><span class="o">().</span><span class="na">size</span><span class="o">(</span><span class="n">key</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="cm">/**
     * æ‰¹é‡æ·»åŠ 
     *
     * @param maps
     */</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">multiSet</span><span class="o">(</span><span class="nc">Map</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">,</span> <span class="nc">String</span><span class="o">&gt;</span> <span class="n">maps</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">redisTemplate</span><span class="o">.</span><span class="na">opsForValue</span><span class="o">().</span><span class="na">multiSet</span><span class="o">(</span><span class="n">maps</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="cm">/**
     * åŒæ—¶è®¾ç½®ä¸€ä¸ªæˆ–å¤šä¸ª key-value å¯¹ï¼Œå½“ä¸”ä»…å½“æ‰€æœ‰ç»™å®š key éƒ½ä¸å­˜åœ¨
     *
     * @param maps
     * @return ä¹‹å‰å·²ç»å­˜åœ¨è¿”å›false, ä¸å­˜åœ¨è¿”å›true
     */</span>
    <span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">multiSetIfAbsent</span><span class="o">(</span><span class="nc">Map</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">,</span> <span class="nc">String</span><span class="o">&gt;</span> <span class="n">maps</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">redisTemplate</span><span class="o">.</span><span class="na">opsForValue</span><span class="o">().</span><span class="na">multiSetIfAbsent</span><span class="o">(</span><span class="n">maps</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="cm">/**
     * å¢åŠ (è‡ªå¢é•¿), è´Ÿæ•°åˆ™ä¸ºè‡ªå‡
     *
     * @param key
     * @param value
     * @return
     */</span>
    <span class="kd">public</span> <span class="nc">Long</span> <span class="nf">incrBy</span><span class="o">(</span><span class="nc">String</span> <span class="n">key</span><span class="o">,</span> <span class="kt">long</span> <span class="n">increment</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">redisTemplate</span><span class="o">.</span><span class="na">opsForValue</span><span class="o">().</span><span class="na">increment</span><span class="o">(</span><span class="n">key</span><span class="o">,</span> <span class="n">increment</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="cm">/**
     * @param key
     * @param value
     * @return
     */</span>
    <span class="kd">public</span> <span class="nc">Double</span> <span class="nf">incrByFloat</span><span class="o">(</span><span class="nc">String</span> <span class="n">key</span><span class="o">,</span> <span class="kt">double</span> <span class="n">increment</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">redisTemplate</span><span class="o">.</span><span class="na">opsForValue</span><span class="o">().</span><span class="na">increment</span><span class="o">(</span><span class="n">key</span><span class="o">,</span> <span class="n">increment</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="cm">/**
     * è¿½åŠ åˆ°æœ«å°¾
     *
     * @param key
     * @param value
     * @return
     */</span>
    <span class="kd">public</span> <span class="nc">Integer</span> <span class="nf">append</span><span class="o">(</span><span class="nc">String</span> <span class="n">key</span><span class="o">,</span> <span class="nc">String</span> <span class="n">value</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">redisTemplate</span><span class="o">.</span><span class="na">opsForValue</span><span class="o">().</span><span class="na">append</span><span class="o">(</span><span class="n">key</span><span class="o">,</span> <span class="n">value</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="cm">/** -------------------hashç›¸å…³æ“ä½œ------------------------- */</span>

    <span class="cm">/**
     * è·å–å­˜å‚¨åœ¨å“ˆå¸Œè¡¨ä¸­æŒ‡å®šå­—æ®µçš„å€¼
     *
     * @param key
     * @param field
     * @return
     */</span>
    <span class="kd">public</span> <span class="nc">Object</span> <span class="nf">hGet</span><span class="o">(</span><span class="nc">String</span> <span class="n">key</span><span class="o">,</span> <span class="nc">String</span> <span class="n">field</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">redisTemplate</span><span class="o">.</span><span class="na">opsForHash</span><span class="o">().</span><span class="na">get</span><span class="o">(</span><span class="n">key</span><span class="o">,</span> <span class="n">field</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="cm">/**
     * è·å–æ‰€æœ‰ç»™å®šå­—æ®µçš„å€¼
     *
     * @param key
     * @return
     */</span>
    <span class="kd">public</span> <span class="nc">Map</span><span class="o">&lt;</span><span class="nc">Object</span><span class="o">,</span> <span class="nc">Object</span><span class="o">&gt;</span> <span class="nf">hGetAll</span><span class="o">(</span><span class="nc">String</span> <span class="n">key</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">redisTemplate</span><span class="o">.</span><span class="na">opsForHash</span><span class="o">().</span><span class="na">entries</span><span class="o">(</span><span class="n">key</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="cm">/**
     * è·å–æ‰€æœ‰ç»™å®šå­—æ®µçš„å€¼
     *
     * @param key
     * @param fields
     * @return
     */</span>
    <span class="kd">public</span> <span class="nc">List</span><span class="o">&lt;</span><span class="nc">Object</span><span class="o">&gt;</span> <span class="nf">hMultiGet</span><span class="o">(</span><span class="nc">String</span> <span class="n">key</span><span class="o">,</span> <span class="nc">Collection</span><span class="o">&lt;</span><span class="nc">Object</span><span class="o">&gt;</span> <span class="n">fields</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">redisTemplate</span><span class="o">.</span><span class="na">opsForHash</span><span class="o">().</span><span class="na">multiGet</span><span class="o">(</span><span class="n">key</span><span class="o">,</span> <span class="n">fields</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">hPut</span><span class="o">(</span><span class="nc">String</span> <span class="n">key</span><span class="o">,</span> <span class="nc">String</span> <span class="n">hashKey</span><span class="o">,</span> <span class="nc">String</span> <span class="n">value</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">redisTemplate</span><span class="o">.</span><span class="na">opsForHash</span><span class="o">().</span><span class="na">put</span><span class="o">(</span><span class="n">key</span><span class="o">,</span> <span class="n">hashKey</span><span class="o">,</span> <span class="n">value</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">hPutAll</span><span class="o">(</span><span class="nc">String</span> <span class="n">key</span><span class="o">,</span> <span class="nc">Map</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">,</span> <span class="nc">String</span><span class="o">&gt;</span> <span class="n">maps</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">redisTemplate</span><span class="o">.</span><span class="na">opsForHash</span><span class="o">().</span><span class="na">putAll</span><span class="o">(</span><span class="n">key</span><span class="o">,</span> <span class="n">maps</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="cm">/**
     * ä»…å½“hashKeyä¸å­˜åœ¨æ—¶æ‰è®¾ç½®
     *
     * @param key
     * @param hashKey
     * @param value
     * @return
     */</span>
    <span class="kd">public</span> <span class="nc">Boolean</span> <span class="nf">hPutIfAbsent</span><span class="o">(</span><span class="nc">String</span> <span class="n">key</span><span class="o">,</span> <span class="nc">String</span> <span class="n">hashKey</span><span class="o">,</span> <span class="nc">String</span> <span class="n">value</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">redisTemplate</span><span class="o">.</span><span class="na">opsForHash</span><span class="o">().</span><span class="na">putIfAbsent</span><span class="o">(</span><span class="n">key</span><span class="o">,</span> <span class="n">hashKey</span><span class="o">,</span> <span class="n">value</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="cm">/**
     * åˆ é™¤ä¸€ä¸ªæˆ–å¤šä¸ªå“ˆå¸Œè¡¨å­—æ®µ
     *
     * @param key
     * @param fields
     * @return
     */</span>
    <span class="kd">public</span> <span class="nc">Long</span> <span class="nf">hDelete</span><span class="o">(</span><span class="nc">String</span> <span class="n">key</span><span class="o">,</span> <span class="nc">Object</span><span class="o">...</span> <span class="n">fields</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">redisTemplate</span><span class="o">.</span><span class="na">opsForHash</span><span class="o">().</span><span class="na">delete</span><span class="o">(</span><span class="n">key</span><span class="o">,</span> <span class="n">fields</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="cm">/**
     * æŸ¥çœ‹å“ˆå¸Œè¡¨ key ä¸­ï¼ŒæŒ‡å®šçš„å­—æ®µæ˜¯å¦å­˜åœ¨
     *
     * @param key
     * @param field
     * @return
     */</span>
    <span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">hExists</span><span class="o">(</span><span class="nc">String</span> <span class="n">key</span><span class="o">,</span> <span class="nc">String</span> <span class="n">field</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">redisTemplate</span><span class="o">.</span><span class="na">opsForHash</span><span class="o">().</span><span class="na">hasKey</span><span class="o">(</span><span class="n">key</span><span class="o">,</span> <span class="n">field</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="cm">/**
     * ä¸ºå“ˆå¸Œè¡¨ key ä¸­çš„æŒ‡å®šå­—æ®µçš„æ•´æ•°å€¼åŠ ä¸Šå¢é‡ increment
     *
     * @param key
     * @param field
     * @param increment
     * @return
     */</span>
    <span class="kd">public</span> <span class="nc">Long</span> <span class="nf">hIncrBy</span><span class="o">(</span><span class="nc">String</span> <span class="n">key</span><span class="o">,</span> <span class="nc">Object</span> <span class="n">field</span><span class="o">,</span> <span class="kt">long</span> <span class="n">increment</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">redisTemplate</span><span class="o">.</span><span class="na">opsForHash</span><span class="o">().</span><span class="na">increment</span><span class="o">(</span><span class="n">key</span><span class="o">,</span> <span class="n">field</span><span class="o">,</span> <span class="n">increment</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="cm">/**
     * ä¸ºå“ˆå¸Œè¡¨ key ä¸­çš„æŒ‡å®šå­—æ®µçš„æ•´æ•°å€¼åŠ ä¸Šå¢é‡ increment
     *
     * @param key
     * @param field
     * @param delta
     * @return
     */</span>
    <span class="kd">public</span> <span class="nc">Double</span> <span class="nf">hIncrByFloat</span><span class="o">(</span><span class="nc">String</span> <span class="n">key</span><span class="o">,</span> <span class="nc">Object</span> <span class="n">field</span><span class="o">,</span> <span class="kt">double</span> <span class="n">delta</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">redisTemplate</span><span class="o">.</span><span class="na">opsForHash</span><span class="o">().</span><span class="na">increment</span><span class="o">(</span><span class="n">key</span><span class="o">,</span> <span class="n">field</span><span class="o">,</span> <span class="n">delta</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="cm">/**
     * è·å–æ‰€æœ‰å“ˆå¸Œè¡¨ä¸­çš„å­—æ®µ
     *
     * @param key
     * @return
     */</span>
    <span class="kd">public</span> <span class="nc">Set</span><span class="o">&lt;</span><span class="nc">Object</span><span class="o">&gt;</span> <span class="nf">hKeys</span><span class="o">(</span><span class="nc">String</span> <span class="n">key</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">redisTemplate</span><span class="o">.</span><span class="na">opsForHash</span><span class="o">().</span><span class="na">keys</span><span class="o">(</span><span class="n">key</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="cm">/**
     * è·å–å“ˆå¸Œè¡¨ä¸­å­—æ®µçš„æ•°é‡
     *
     * @param key
     * @return
     */</span>
    <span class="kd">public</span> <span class="nc">Long</span> <span class="nf">hSize</span><span class="o">(</span><span class="nc">String</span> <span class="n">key</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">redisTemplate</span><span class="o">.</span><span class="na">opsForHash</span><span class="o">().</span><span class="na">size</span><span class="o">(</span><span class="n">key</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="cm">/**
     * è·å–å“ˆå¸Œè¡¨ä¸­æ‰€æœ‰å€¼
     *
     * @param key
     * @return
     */</span>
    <span class="kd">public</span> <span class="nc">List</span><span class="o">&lt;</span><span class="nc">Object</span><span class="o">&gt;</span> <span class="nf">hValues</span><span class="o">(</span><span class="nc">String</span> <span class="n">key</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">redisTemplate</span><span class="o">.</span><span class="na">opsForHash</span><span class="o">().</span><span class="na">values</span><span class="o">(</span><span class="n">key</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="cm">/**
     * è¿­ä»£å“ˆå¸Œè¡¨ä¸­çš„é”®å€¼å¯¹
     *
     * @param key
     * @param options
     * @return
     */</span>
    <span class="kd">public</span> <span class="nc">Cursor</span><span class="o">&lt;</span><span class="nc">Map</span><span class="o">.</span><span class="na">Entry</span><span class="o">&lt;</span><span class="nc">Object</span><span class="o">,</span> <span class="nc">Object</span><span class="o">&gt;&gt;</span> <span class="nf">hScan</span><span class="o">(</span><span class="nc">String</span> <span class="n">key</span><span class="o">,</span> <span class="nc">ScanOptions</span> <span class="n">options</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">redisTemplate</span><span class="o">.</span><span class="na">opsForHash</span><span class="o">().</span><span class="na">scan</span><span class="o">(</span><span class="n">key</span><span class="o">,</span> <span class="n">options</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="cm">/** ------------------------listç›¸å…³æ“ä½œ---------------------------- */</span>

    <span class="cm">/**
     * é€šè¿‡ç´¢å¼•è·å–åˆ—è¡¨ä¸­çš„å…ƒç´ 
     *
     * @param key
     * @param index
     * @return
     */</span>
    <span class="kd">public</span> <span class="nc">String</span> <span class="nf">lIndex</span><span class="o">(</span><span class="nc">String</span> <span class="n">key</span><span class="o">,</span> <span class="kt">long</span> <span class="n">index</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">redisTemplate</span><span class="o">.</span><span class="na">opsForList</span><span class="o">().</span><span class="na">index</span><span class="o">(</span><span class="n">key</span><span class="o">,</span> <span class="n">index</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="cm">/**
     * è·å–åˆ—è¡¨æŒ‡å®šèŒƒå›´å†…çš„å…ƒç´ 
     *
     * @param key
     * @param start
     *         å¼€å§‹ä½ç½®, 0æ˜¯å¼€å§‹ä½ç½®
     * @param end
     *         ç»“æŸä½ç½®, -1è¿”å›æ‰€æœ‰
     * @return
     */</span>
    <span class="kd">public</span> <span class="nc">List</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="nf">lRange</span><span class="o">(</span><span class="nc">String</span> <span class="n">key</span><span class="o">,</span> <span class="kt">long</span> <span class="n">start</span><span class="o">,</span> <span class="kt">long</span> <span class="n">end</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">redisTemplate</span><span class="o">.</span><span class="na">opsForList</span><span class="o">().</span><span class="na">range</span><span class="o">(</span><span class="n">key</span><span class="o">,</span> <span class="n">start</span><span class="o">,</span> <span class="n">end</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="cm">/**
     * å­˜å‚¨åœ¨listå¤´éƒ¨
     *
     * @param key
     * @param value
     * @return
     */</span>
    <span class="kd">public</span> <span class="nc">Long</span> <span class="nf">lLeftPush</span><span class="o">(</span><span class="nc">String</span> <span class="n">key</span><span class="o">,</span> <span class="nc">String</span> <span class="n">value</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">redisTemplate</span><span class="o">.</span><span class="na">opsForList</span><span class="o">().</span><span class="na">leftPush</span><span class="o">(</span><span class="n">key</span><span class="o">,</span> <span class="n">value</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="cm">/**
     * @param key
     * @param value
     * @return
     */</span>
    <span class="kd">public</span> <span class="nc">Long</span> <span class="nf">lLeftPushAll</span><span class="o">(</span><span class="nc">String</span> <span class="n">key</span><span class="o">,</span> <span class="nc">String</span><span class="o">...</span> <span class="n">value</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">redisTemplate</span><span class="o">.</span><span class="na">opsForList</span><span class="o">().</span><span class="na">leftPushAll</span><span class="o">(</span><span class="n">key</span><span class="o">,</span> <span class="n">value</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="cm">/**
     * @param key
     * @param value
     * @return
     */</span>
    <span class="kd">public</span> <span class="nc">Long</span> <span class="nf">lLeftPushAll</span><span class="o">(</span><span class="nc">String</span> <span class="n">key</span><span class="o">,</span> <span class="nc">Collection</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">value</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">redisTemplate</span><span class="o">.</span><span class="na">opsForList</span><span class="o">().</span><span class="na">leftPushAll</span><span class="o">(</span><span class="n">key</span><span class="o">,</span> <span class="n">value</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="cm">/**
     * å½“listå­˜åœ¨çš„æ—¶å€™æ‰åŠ å…¥
     *
     * @param key
     * @param value
     * @return
     */</span>
    <span class="kd">public</span> <span class="nc">Long</span> <span class="nf">lLeftPushIfPresent</span><span class="o">(</span><span class="nc">String</span> <span class="n">key</span><span class="o">,</span> <span class="nc">String</span> <span class="n">value</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">redisTemplate</span><span class="o">.</span><span class="na">opsForList</span><span class="o">().</span><span class="na">leftPushIfPresent</span><span class="o">(</span><span class="n">key</span><span class="o">,</span> <span class="n">value</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="cm">/**
     * å¦‚æœpivotå­˜åœ¨,å†pivotå‰é¢æ·»åŠ 
     *
     * @param key
     * @param pivot
     * @param value
     * @return
     */</span>
    <span class="kd">public</span> <span class="nc">Long</span> <span class="nf">lLeftPush</span><span class="o">(</span><span class="nc">String</span> <span class="n">key</span><span class="o">,</span> <span class="nc">String</span> <span class="n">pivot</span><span class="o">,</span> <span class="nc">String</span> <span class="n">value</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">redisTemplate</span><span class="o">.</span><span class="na">opsForList</span><span class="o">().</span><span class="na">leftPush</span><span class="o">(</span><span class="n">key</span><span class="o">,</span> <span class="n">pivot</span><span class="o">,</span> <span class="n">value</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="cm">/**
     * @param key
     * @param value
     * @return
     */</span>
    <span class="kd">public</span> <span class="nc">Long</span> <span class="nf">lRightPush</span><span class="o">(</span><span class="nc">String</span> <span class="n">key</span><span class="o">,</span> <span class="nc">String</span> <span class="n">value</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">redisTemplate</span><span class="o">.</span><span class="na">opsForList</span><span class="o">().</span><span class="na">rightPush</span><span class="o">(</span><span class="n">key</span><span class="o">,</span> <span class="n">value</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="cm">/**
     * @param key
     * @param value
     * @return
     */</span>
    <span class="kd">public</span> <span class="nc">Long</span> <span class="nf">lRightPushAll</span><span class="o">(</span><span class="nc">String</span> <span class="n">key</span><span class="o">,</span> <span class="nc">String</span><span class="o">...</span> <span class="n">value</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">redisTemplate</span><span class="o">.</span><span class="na">opsForList</span><span class="o">().</span><span class="na">rightPushAll</span><span class="o">(</span><span class="n">key</span><span class="o">,</span> <span class="n">value</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="cm">/**
     * @param key
     * @param value
     * @return
     */</span>
    <span class="kd">public</span> <span class="nc">Long</span> <span class="nf">lRightPushAll</span><span class="o">(</span><span class="nc">String</span> <span class="n">key</span><span class="o">,</span> <span class="nc">Collection</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">value</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">redisTemplate</span><span class="o">.</span><span class="na">opsForList</span><span class="o">().</span><span class="na">rightPushAll</span><span class="o">(</span><span class="n">key</span><span class="o">,</span> <span class="n">value</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="cm">/**
     * ä¸ºå·²å­˜åœ¨çš„åˆ—è¡¨æ·»åŠ å€¼
     *
     * @param key
     * @param value
     * @return
     */</span>
    <span class="kd">public</span> <span class="nc">Long</span> <span class="nf">lRightPushIfPresent</span><span class="o">(</span><span class="nc">String</span> <span class="n">key</span><span class="o">,</span> <span class="nc">String</span> <span class="n">value</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">redisTemplate</span><span class="o">.</span><span class="na">opsForList</span><span class="o">().</span><span class="na">rightPushIfPresent</span><span class="o">(</span><span class="n">key</span><span class="o">,</span> <span class="n">value</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="cm">/**
     * åœ¨pivotå…ƒç´ çš„å³è¾¹æ·»åŠ å€¼
     *
     * @param key
     * @param pivot
     * @param value
     * @return
     */</span>
    <span class="kd">public</span> <span class="nc">Long</span> <span class="nf">lRightPush</span><span class="o">(</span><span class="nc">String</span> <span class="n">key</span><span class="o">,</span> <span class="nc">String</span> <span class="n">pivot</span><span class="o">,</span> <span class="nc">String</span> <span class="n">value</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">redisTemplate</span><span class="o">.</span><span class="na">opsForList</span><span class="o">().</span><span class="na">rightPush</span><span class="o">(</span><span class="n">key</span><span class="o">,</span> <span class="n">pivot</span><span class="o">,</span> <span class="n">value</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="cm">/**
     * é€šè¿‡ç´¢å¼•è®¾ç½®åˆ—è¡¨å…ƒç´ çš„å€¼
     *
     * @param key
     * @param index
     *         ä½ç½®
     * @param value
     */</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">lSet</span><span class="o">(</span><span class="nc">String</span> <span class="n">key</span><span class="o">,</span> <span class="kt">long</span> <span class="n">index</span><span class="o">,</span> <span class="nc">String</span> <span class="n">value</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">redisTemplate</span><span class="o">.</span><span class="na">opsForList</span><span class="o">().</span><span class="na">set</span><span class="o">(</span><span class="n">key</span><span class="o">,</span> <span class="n">index</span><span class="o">,</span> <span class="n">value</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="cm">/**
     * ç§»å‡ºå¹¶è·å–åˆ—è¡¨çš„ç¬¬ä¸€ä¸ªå…ƒç´ 
     *
     * @param key
     * @return åˆ é™¤çš„å…ƒç´ 
     */</span>
    <span class="kd">public</span> <span class="nc">String</span> <span class="nf">lLeftPop</span><span class="o">(</span><span class="nc">String</span> <span class="n">key</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">redisTemplate</span><span class="o">.</span><span class="na">opsForList</span><span class="o">().</span><span class="na">leftPop</span><span class="o">(</span><span class="n">key</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="cm">/**
     * ç§»å‡ºå¹¶è·å–åˆ—è¡¨çš„ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œ å¦‚æœåˆ—è¡¨æ²¡æœ‰å…ƒç´ ä¼šé˜»å¡åˆ—è¡¨ç›´åˆ°ç­‰å¾…è¶…æ—¶æˆ–å‘ç°å¯å¼¹å‡ºå…ƒç´ ä¸ºæ­¢
     *
     * @param key
     * @param timeout
     *         ç­‰å¾…æ—¶é—´
     * @param unit
     *         æ—¶é—´å•ä½
     * @return
     */</span>
    <span class="kd">public</span> <span class="nc">String</span> <span class="nf">lBLeftPop</span><span class="o">(</span><span class="nc">String</span> <span class="n">key</span><span class="o">,</span> <span class="kt">long</span> <span class="n">timeout</span><span class="o">,</span> <span class="nc">TimeUnit</span> <span class="n">unit</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">redisTemplate</span><span class="o">.</span><span class="na">opsForList</span><span class="o">().</span><span class="na">leftPop</span><span class="o">(</span><span class="n">key</span><span class="o">,</span> <span class="n">timeout</span><span class="o">,</span> <span class="n">unit</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="cm">/**
     * ç§»é™¤å¹¶è·å–åˆ—è¡¨æœ€åä¸€ä¸ªå…ƒç´ 
     *
     * @param key
     * @return åˆ é™¤çš„å…ƒç´ 
     */</span>
    <span class="kd">public</span> <span class="nc">String</span> <span class="nf">lRightPop</span><span class="o">(</span><span class="nc">String</span> <span class="n">key</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">redisTemplate</span><span class="o">.</span><span class="na">opsForList</span><span class="o">().</span><span class="na">rightPop</span><span class="o">(</span><span class="n">key</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="cm">/**
     * ç§»å‡ºå¹¶è·å–åˆ—è¡¨çš„æœ€åä¸€ä¸ªå…ƒç´ ï¼Œ å¦‚æœåˆ—è¡¨æ²¡æœ‰å…ƒç´ ä¼šé˜»å¡åˆ—è¡¨ç›´åˆ°ç­‰å¾…è¶…æ—¶æˆ–å‘ç°å¯å¼¹å‡ºå…ƒç´ ä¸ºæ­¢
     *
     * @param key
     * @param timeout
     *         ç­‰å¾…æ—¶é—´
     * @param unit
     *         æ—¶é—´å•ä½
     * @return
     */</span>
    <span class="kd">public</span> <span class="nc">String</span> <span class="nf">lBRightPop</span><span class="o">(</span><span class="nc">String</span> <span class="n">key</span><span class="o">,</span> <span class="kt">long</span> <span class="n">timeout</span><span class="o">,</span> <span class="nc">TimeUnit</span> <span class="n">unit</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">redisTemplate</span><span class="o">.</span><span class="na">opsForList</span><span class="o">().</span><span class="na">rightPop</span><span class="o">(</span><span class="n">key</span><span class="o">,</span> <span class="n">timeout</span><span class="o">,</span> <span class="n">unit</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="cm">/**
     * ç§»é™¤åˆ—è¡¨çš„æœ€åä¸€ä¸ªå…ƒç´ ï¼Œå¹¶å°†è¯¥å…ƒç´ æ·»åŠ åˆ°å¦ä¸€ä¸ªåˆ—è¡¨å¹¶è¿”å›
     *
     * @param sourceKey
     * @param destinationKey
     * @return
     */</span>
    <span class="kd">public</span> <span class="nc">String</span> <span class="nf">lRightPopAndLeftPush</span><span class="o">(</span><span class="nc">String</span> <span class="n">sourceKey</span><span class="o">,</span> <span class="nc">String</span> <span class="n">destinationKey</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">redisTemplate</span><span class="o">.</span><span class="na">opsForList</span><span class="o">().</span><span class="na">rightPopAndLeftPush</span><span class="o">(</span><span class="n">sourceKey</span><span class="o">,</span>
                <span class="n">destinationKey</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="cm">/**
     * ä»åˆ—è¡¨ä¸­å¼¹å‡ºä¸€ä¸ªå€¼ï¼Œå°†å¼¹å‡ºçš„å…ƒç´ æ’å…¥åˆ°å¦å¤–ä¸€ä¸ªåˆ—è¡¨ä¸­å¹¶è¿”å›å®ƒï¼› å¦‚æœåˆ—è¡¨æ²¡æœ‰å…ƒç´ ä¼šé˜»å¡åˆ—è¡¨ç›´åˆ°ç­‰å¾…è¶…æ—¶æˆ–å‘ç°å¯å¼¹å‡ºå…ƒç´ ä¸ºæ­¢
     *
     * @param sourceKey
     * @param destinationKey
     * @param timeout
     * @param unit
     * @return
     */</span>
    <span class="kd">public</span> <span class="nc">String</span> <span class="nf">lBRightPopAndLeftPush</span><span class="o">(</span><span class="nc">String</span> <span class="n">sourceKey</span><span class="o">,</span> <span class="nc">String</span> <span class="n">destinationKey</span><span class="o">,</span>
                                        <span class="kt">long</span> <span class="n">timeout</span><span class="o">,</span> <span class="nc">TimeUnit</span> <span class="n">unit</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">redisTemplate</span><span class="o">.</span><span class="na">opsForList</span><span class="o">().</span><span class="na">rightPopAndLeftPush</span><span class="o">(</span><span class="n">sourceKey</span><span class="o">,</span>
                <span class="n">destinationKey</span><span class="o">,</span> <span class="n">timeout</span><span class="o">,</span> <span class="n">unit</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="cm">/**
     * åˆ é™¤é›†åˆä¸­å€¼ç­‰äºvalueå¾—å…ƒç´ 
     *
     * @param key
     * @param index
     *         index=0, åˆ é™¤æ‰€æœ‰å€¼ç­‰äºvalueçš„å…ƒç´ ; index&gt;0, ä»å¤´éƒ¨å¼€å§‹åˆ é™¤ç¬¬ä¸€ä¸ªå€¼ç­‰äºvalueçš„å…ƒç´ ; index&lt;0,
     *         ä»å°¾éƒ¨å¼€å§‹åˆ é™¤ç¬¬ä¸€ä¸ªå€¼ç­‰äºvalueçš„å…ƒç´ ;
     * @param value
     * @return
     */</span>
    <span class="kd">public</span> <span class="nc">Long</span> <span class="nf">lRemove</span><span class="o">(</span><span class="nc">String</span> <span class="n">key</span><span class="o">,</span> <span class="kt">long</span> <span class="n">index</span><span class="o">,</span> <span class="nc">String</span> <span class="n">value</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">redisTemplate</span><span class="o">.</span><span class="na">opsForList</span><span class="o">().</span><span class="na">remove</span><span class="o">(</span><span class="n">key</span><span class="o">,</span> <span class="n">index</span><span class="o">,</span> <span class="n">value</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="cm">/**
     * è£å‰ªlist
     *
     * @param key
     * @param start
     * @param end
     */</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">lTrim</span><span class="o">(</span><span class="nc">String</span> <span class="n">key</span><span class="o">,</span> <span class="kt">long</span> <span class="n">start</span><span class="o">,</span> <span class="kt">long</span> <span class="n">end</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">redisTemplate</span><span class="o">.</span><span class="na">opsForList</span><span class="o">().</span><span class="na">trim</span><span class="o">(</span><span class="n">key</span><span class="o">,</span> <span class="n">start</span><span class="o">,</span> <span class="n">end</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="cm">/**
     * è·å–åˆ—è¡¨é•¿åº¦
     *
     * @param key
     * @return
     */</span>
    <span class="kd">public</span> <span class="nc">Long</span> <span class="nf">lLen</span><span class="o">(</span><span class="nc">String</span> <span class="n">key</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">redisTemplate</span><span class="o">.</span><span class="na">opsForList</span><span class="o">().</span><span class="na">size</span><span class="o">(</span><span class="n">key</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="cm">/** --------------------setç›¸å…³æ“ä½œ-------------------------- */</span>

    <span class="cm">/**
     * setæ·»åŠ å…ƒç´ 
     *
     * @param key
     * @param values
     * @return
     */</span>
    <span class="kd">public</span> <span class="nc">Long</span> <span class="nf">sAdd</span><span class="o">(</span><span class="nc">String</span> <span class="n">key</span><span class="o">,</span> <span class="nc">String</span><span class="o">...</span> <span class="n">values</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">redisTemplate</span><span class="o">.</span><span class="na">opsForSet</span><span class="o">().</span><span class="na">add</span><span class="o">(</span><span class="n">key</span><span class="o">,</span> <span class="n">values</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="cm">/**
     * setç§»é™¤å…ƒç´ 
     *
     * @param key
     * @param values
     * @return
     */</span>
    <span class="kd">public</span> <span class="nc">Long</span> <span class="nf">sRemove</span><span class="o">(</span><span class="nc">String</span> <span class="n">key</span><span class="o">,</span> <span class="nc">Object</span><span class="o">...</span> <span class="n">values</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">redisTemplate</span><span class="o">.</span><span class="na">opsForSet</span><span class="o">().</span><span class="na">remove</span><span class="o">(</span><span class="n">key</span><span class="o">,</span> <span class="n">values</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="cm">/**
     * ç§»é™¤å¹¶è¿”å›é›†åˆçš„ä¸€ä¸ªéšæœºå…ƒç´ 
     *
     * @param key
     * @return
     */</span>
    <span class="kd">public</span> <span class="nc">String</span> <span class="nf">sPop</span><span class="o">(</span><span class="nc">String</span> <span class="n">key</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">redisTemplate</span><span class="o">.</span><span class="na">opsForSet</span><span class="o">().</span><span class="na">pop</span><span class="o">(</span><span class="n">key</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="cm">/**
     * å°†å…ƒç´ valueä»ä¸€ä¸ªé›†åˆç§»åˆ°å¦ä¸€ä¸ªé›†åˆ
     *
     * @param key
     * @param value
     * @param destKey
     * @return
     */</span>
    <span class="kd">public</span> <span class="nc">Boolean</span> <span class="nf">sMove</span><span class="o">(</span><span class="nc">String</span> <span class="n">key</span><span class="o">,</span> <span class="nc">String</span> <span class="n">value</span><span class="o">,</span> <span class="nc">String</span> <span class="n">destKey</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">redisTemplate</span><span class="o">.</span><span class="na">opsForSet</span><span class="o">().</span><span class="na">move</span><span class="o">(</span><span class="n">key</span><span class="o">,</span> <span class="n">value</span><span class="o">,</span> <span class="n">destKey</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="cm">/**
     * è·å–é›†åˆçš„å¤§å°
     *
     * @param key
     * @return
     */</span>
    <span class="kd">public</span> <span class="nc">Long</span> <span class="nf">sSize</span><span class="o">(</span><span class="nc">String</span> <span class="n">key</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">redisTemplate</span><span class="o">.</span><span class="na">opsForSet</span><span class="o">().</span><span class="na">size</span><span class="o">(</span><span class="n">key</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="cm">/**
     * åˆ¤æ–­é›†åˆæ˜¯å¦åŒ…å«value
     *
     * @param key
     * @param value
     * @return
     */</span>
    <span class="kd">public</span> <span class="nc">Boolean</span> <span class="nf">sIsMember</span><span class="o">(</span><span class="nc">String</span> <span class="n">key</span><span class="o">,</span> <span class="nc">Object</span> <span class="n">value</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">redisTemplate</span><span class="o">.</span><span class="na">opsForSet</span><span class="o">().</span><span class="na">isMember</span><span class="o">(</span><span class="n">key</span><span class="o">,</span> <span class="n">value</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="cm">/**
     * è·å–ä¸¤ä¸ªé›†åˆçš„äº¤é›†
     *
     * @param key
     * @param otherKey
     * @return
     */</span>
    <span class="kd">public</span> <span class="nc">Set</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="nf">sIntersect</span><span class="o">(</span><span class="nc">String</span> <span class="n">key</span><span class="o">,</span> <span class="nc">String</span> <span class="n">otherKey</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">redisTemplate</span><span class="o">.</span><span class="na">opsForSet</span><span class="o">().</span><span class="na">intersect</span><span class="o">(</span><span class="n">key</span><span class="o">,</span> <span class="n">otherKey</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="cm">/**
     * è·å–keyé›†åˆä¸å¤šä¸ªé›†åˆçš„äº¤é›†
     *
     * @param key
     * @param otherKeys
     * @return
     */</span>
    <span class="kd">public</span> <span class="nc">Set</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="nf">sIntersect</span><span class="o">(</span><span class="nc">String</span> <span class="n">key</span><span class="o">,</span> <span class="nc">Collection</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">otherKeys</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">redisTemplate</span><span class="o">.</span><span class="na">opsForSet</span><span class="o">().</span><span class="na">intersect</span><span class="o">(</span><span class="n">key</span><span class="o">,</span> <span class="n">otherKeys</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="cm">/**
     * keyé›†åˆä¸otherKeyé›†åˆçš„äº¤é›†å­˜å‚¨åˆ°destKeyé›†åˆä¸­
     *
     * @param key
     * @param otherKey
     * @param destKey
     * @return
     */</span>
    <span class="kd">public</span> <span class="nc">Long</span> <span class="nf">sIntersectAndStore</span><span class="o">(</span><span class="nc">String</span> <span class="n">key</span><span class="o">,</span> <span class="nc">String</span> <span class="n">otherKey</span><span class="o">,</span> <span class="nc">String</span> <span class="n">destKey</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">redisTemplate</span><span class="o">.</span><span class="na">opsForSet</span><span class="o">().</span><span class="na">intersectAndStore</span><span class="o">(</span><span class="n">key</span><span class="o">,</span> <span class="n">otherKey</span><span class="o">,</span>
                <span class="n">destKey</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="cm">/**
     * keyé›†åˆä¸å¤šä¸ªé›†åˆçš„äº¤é›†å­˜å‚¨åˆ°destKeyé›†åˆä¸­
     *
     * @param key
     * @param otherKeys
     * @param destKey
     * @return
     */</span>
    <span class="kd">public</span> <span class="nc">Long</span> <span class="nf">sIntersectAndStore</span><span class="o">(</span><span class="nc">String</span> <span class="n">key</span><span class="o">,</span> <span class="nc">Collection</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">otherKeys</span><span class="o">,</span>
                                   <span class="nc">String</span> <span class="n">destKey</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">redisTemplate</span><span class="o">.</span><span class="na">opsForSet</span><span class="o">().</span><span class="na">intersectAndStore</span><span class="o">(</span><span class="n">key</span><span class="o">,</span> <span class="n">otherKeys</span><span class="o">,</span>
                <span class="n">destKey</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="cm">/**
     * è·å–ä¸¤ä¸ªé›†åˆçš„å¹¶é›†
     *
     * @param key
     * @param otherKeys
     * @return
     */</span>
    <span class="kd">public</span> <span class="nc">Set</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="nf">sUnion</span><span class="o">(</span><span class="nc">String</span> <span class="n">key</span><span class="o">,</span> <span class="nc">String</span> <span class="n">otherKeys</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">redisTemplate</span><span class="o">.</span><span class="na">opsForSet</span><span class="o">().</span><span class="na">union</span><span class="o">(</span><span class="n">key</span><span class="o">,</span> <span class="n">otherKeys</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="cm">/**
     * è·å–keyé›†åˆä¸å¤šä¸ªé›†åˆçš„å¹¶é›†
     *
     * @param key
     * @param otherKeys
     * @return
     */</span>
    <span class="kd">public</span> <span class="nc">Set</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="nf">sUnion</span><span class="o">(</span><span class="nc">String</span> <span class="n">key</span><span class="o">,</span> <span class="nc">Collection</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">otherKeys</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">redisTemplate</span><span class="o">.</span><span class="na">opsForSet</span><span class="o">().</span><span class="na">union</span><span class="o">(</span><span class="n">key</span><span class="o">,</span> <span class="n">otherKeys</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="cm">/**
     * keyé›†åˆä¸otherKeyé›†åˆçš„å¹¶é›†å­˜å‚¨åˆ°destKeyä¸­
     *
     * @param key
     * @param otherKey
     * @param destKey
     * @return
     */</span>
    <span class="kd">public</span> <span class="nc">Long</span> <span class="nf">sUnionAndStore</span><span class="o">(</span><span class="nc">String</span> <span class="n">key</span><span class="o">,</span> <span class="nc">String</span> <span class="n">otherKey</span><span class="o">,</span> <span class="nc">String</span> <span class="n">destKey</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">redisTemplate</span><span class="o">.</span><span class="na">opsForSet</span><span class="o">().</span><span class="na">unionAndStore</span><span class="o">(</span><span class="n">key</span><span class="o">,</span> <span class="n">otherKey</span><span class="o">,</span> <span class="n">destKey</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="cm">/**
     * keyé›†åˆä¸å¤šä¸ªé›†åˆçš„å¹¶é›†å­˜å‚¨åˆ°destKeyä¸­
     *
     * @param key
     * @param otherKeys
     * @param destKey
     * @return
     */</span>
    <span class="kd">public</span> <span class="nc">Long</span> <span class="nf">sUnionAndStore</span><span class="o">(</span><span class="nc">String</span> <span class="n">key</span><span class="o">,</span> <span class="nc">Collection</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">otherKeys</span><span class="o">,</span>
                               <span class="nc">String</span> <span class="n">destKey</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">redisTemplate</span><span class="o">.</span><span class="na">opsForSet</span><span class="o">().</span><span class="na">unionAndStore</span><span class="o">(</span><span class="n">key</span><span class="o">,</span> <span class="n">otherKeys</span><span class="o">,</span> <span class="n">destKey</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="cm">/**
     * è·å–ä¸¤ä¸ªé›†åˆçš„å·®é›†
     *
     * @param key
     * @param otherKey
     * @return
     */</span>
    <span class="kd">public</span> <span class="nc">Set</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="nf">sDifference</span><span class="o">(</span><span class="nc">String</span> <span class="n">key</span><span class="o">,</span> <span class="nc">String</span> <span class="n">otherKey</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">redisTemplate</span><span class="o">.</span><span class="na">opsForSet</span><span class="o">().</span><span class="na">difference</span><span class="o">(</span><span class="n">key</span><span class="o">,</span> <span class="n">otherKey</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="cm">/**
     * è·å–keyé›†åˆä¸å¤šä¸ªé›†åˆçš„å·®é›†
     *
     * @param key
     * @param otherKeys
     * @return
     */</span>
    <span class="kd">public</span> <span class="nc">Set</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="nf">sDifference</span><span class="o">(</span><span class="nc">String</span> <span class="n">key</span><span class="o">,</span> <span class="nc">Collection</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">otherKeys</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">redisTemplate</span><span class="o">.</span><span class="na">opsForSet</span><span class="o">().</span><span class="na">difference</span><span class="o">(</span><span class="n">key</span><span class="o">,</span> <span class="n">otherKeys</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="cm">/**
     * keyé›†åˆä¸otherKeyé›†åˆçš„å·®é›†å­˜å‚¨åˆ°destKeyä¸­
     *
     * @param key
     * @param otherKey
     * @param destKey
     * @return
     */</span>
    <span class="kd">public</span> <span class="nc">Long</span> <span class="nf">sDifference</span><span class="o">(</span><span class="nc">String</span> <span class="n">key</span><span class="o">,</span> <span class="nc">String</span> <span class="n">otherKey</span><span class="o">,</span> <span class="nc">String</span> <span class="n">destKey</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">redisTemplate</span><span class="o">.</span><span class="na">opsForSet</span><span class="o">().</span><span class="na">differenceAndStore</span><span class="o">(</span><span class="n">key</span><span class="o">,</span> <span class="n">otherKey</span><span class="o">,</span>
                <span class="n">destKey</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="cm">/**
     * keyé›†åˆä¸å¤šä¸ªé›†åˆçš„å·®é›†å­˜å‚¨åˆ°destKeyä¸­
     *
     * @param key
     * @param otherKeys
     * @param destKey
     * @return
     */</span>
    <span class="kd">public</span> <span class="nc">Long</span> <span class="nf">sDifference</span><span class="o">(</span><span class="nc">String</span> <span class="n">key</span><span class="o">,</span> <span class="nc">Collection</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">otherKeys</span><span class="o">,</span>
                            <span class="nc">String</span> <span class="n">destKey</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">redisTemplate</span><span class="o">.</span><span class="na">opsForSet</span><span class="o">().</span><span class="na">differenceAndStore</span><span class="o">(</span><span class="n">key</span><span class="o">,</span> <span class="n">otherKeys</span><span class="o">,</span>
                <span class="n">destKey</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="cm">/**
     * è·å–é›†åˆæ‰€æœ‰å…ƒç´ 
     */</span>
    <span class="kd">public</span> <span class="nc">Set</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="nf">setMembers</span><span class="o">(</span><span class="nc">String</span> <span class="n">key</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">redisTemplate</span><span class="o">.</span><span class="na">opsForSet</span><span class="o">().</span><span class="na">members</span><span class="o">(</span><span class="n">key</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="cm">/**
     * éšæœºè·å–é›†åˆä¸­çš„ä¸€ä¸ªå…ƒç´ 
     *
     * @param key
     * @return
     */</span>
    <span class="kd">public</span> <span class="nc">String</span> <span class="nf">sRandomMember</span><span class="o">(</span><span class="nc">String</span> <span class="n">key</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">redisTemplate</span><span class="o">.</span><span class="na">opsForSet</span><span class="o">().</span><span class="na">randomMember</span><span class="o">(</span><span class="n">key</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="cm">/**
     * éšæœºè·å–é›†åˆä¸­countä¸ªå…ƒç´ 
     *
     * @param key
     * @param count
     * @return
     */</span>
    <span class="kd">public</span> <span class="nc">List</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="nf">sRandomMembers</span><span class="o">(</span><span class="nc">String</span> <span class="n">key</span><span class="o">,</span> <span class="kt">long</span> <span class="n">count</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">redisTemplate</span><span class="o">.</span><span class="na">opsForSet</span><span class="o">().</span><span class="na">randomMembers</span><span class="o">(</span><span class="n">key</span><span class="o">,</span> <span class="n">count</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="cm">/**
     * éšæœºè·å–é›†åˆä¸­countä¸ªå…ƒç´ å¹¶ä¸”å»é™¤é‡å¤çš„
     *
     * @param key
     * @param count
     * @return
     */</span>
    <span class="kd">public</span> <span class="nc">Set</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="nf">sDistinctRandomMembers</span><span class="o">(</span><span class="nc">String</span> <span class="n">key</span><span class="o">,</span> <span class="kt">long</span> <span class="n">count</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">redisTemplate</span><span class="o">.</span><span class="na">opsForSet</span><span class="o">().</span><span class="na">distinctRandomMembers</span><span class="o">(</span><span class="n">key</span><span class="o">,</span> <span class="n">count</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="cm">/**
     * @param key
     * @param options
     * @return
     */</span>
    <span class="kd">public</span> <span class="nc">Cursor</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="nf">sScan</span><span class="o">(</span><span class="nc">String</span> <span class="n">key</span><span class="o">,</span> <span class="nc">ScanOptions</span> <span class="n">options</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">redisTemplate</span><span class="o">.</span><span class="na">opsForSet</span><span class="o">().</span><span class="na">scan</span><span class="o">(</span><span class="n">key</span><span class="o">,</span> <span class="n">options</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="cm">/**------------------zSetç›¸å…³æ“ä½œ--------------------------------*/</span>

    <span class="cm">/**
     * æ·»åŠ å…ƒç´ ,æœ‰åºé›†åˆæ˜¯æŒ‰ç…§å…ƒç´ çš„scoreå€¼ç”±å°åˆ°å¤§æ’åˆ—
     *
     * @param key
     * @param value
     * @param score
     * @return
     */</span>
    <span class="kd">public</span> <span class="nc">Boolean</span> <span class="nf">zAdd</span><span class="o">(</span><span class="nc">String</span> <span class="n">key</span><span class="o">,</span> <span class="nc">String</span> <span class="n">value</span><span class="o">,</span> <span class="kt">double</span> <span class="n">score</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">redisTemplate</span><span class="o">.</span><span class="na">opsForZSet</span><span class="o">().</span><span class="na">add</span><span class="o">(</span><span class="n">key</span><span class="o">,</span> <span class="n">value</span><span class="o">,</span> <span class="n">score</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="cm">/**
     * @param key
     * @param values
     * @return
     */</span>
    <span class="kd">public</span> <span class="nc">Long</span> <span class="nf">zAdd</span><span class="o">(</span><span class="nc">String</span> <span class="n">key</span><span class="o">,</span> <span class="nc">Set</span><span class="o">&lt;</span><span class="nc">ZSetOperations</span><span class="o">.</span><span class="na">TypedTuple</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;&gt;</span> <span class="n">values</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">redisTemplate</span><span class="o">.</span><span class="na">opsForZSet</span><span class="o">().</span><span class="na">add</span><span class="o">(</span><span class="n">key</span><span class="o">,</span> <span class="n">values</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="cm">/**
     * @param key
     * @param values
     * @return
     */</span>
    <span class="kd">public</span> <span class="nc">Long</span> <span class="nf">zRemove</span><span class="o">(</span><span class="nc">String</span> <span class="n">key</span><span class="o">,</span> <span class="nc">Object</span><span class="o">...</span> <span class="n">values</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">redisTemplate</span><span class="o">.</span><span class="na">opsForZSet</span><span class="o">().</span><span class="na">remove</span><span class="o">(</span><span class="n">key</span><span class="o">,</span> <span class="n">values</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="cm">/**
     * å¢åŠ å…ƒç´ çš„scoreå€¼ï¼Œå¹¶è¿”å›å¢åŠ åçš„å€¼
     *
     * @param key
     * @param value
     * @param delta
     * @return
     */</span>
    <span class="kd">public</span> <span class="nc">Double</span> <span class="nf">zIncrementScore</span><span class="o">(</span><span class="nc">String</span> <span class="n">key</span><span class="o">,</span> <span class="nc">String</span> <span class="n">value</span><span class="o">,</span> <span class="kt">double</span> <span class="n">delta</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">redisTemplate</span><span class="o">.</span><span class="na">opsForZSet</span><span class="o">().</span><span class="na">incrementScore</span><span class="o">(</span><span class="n">key</span><span class="o">,</span> <span class="n">value</span><span class="o">,</span> <span class="n">delta</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="cm">/**
     * è¿”å›å…ƒç´ åœ¨é›†åˆçš„æ’å,æœ‰åºé›†åˆæ˜¯æŒ‰ç…§å…ƒç´ çš„scoreå€¼ç”±å°åˆ°å¤§æ’åˆ—
     *
     * @param key
     * @param value
     * @return 0è¡¨ç¤ºç¬¬ä¸€ä½
     */</span>
    <span class="kd">public</span> <span class="nc">Long</span> <span class="nf">zRank</span><span class="o">(</span><span class="nc">String</span> <span class="n">key</span><span class="o">,</span> <span class="nc">Object</span> <span class="n">value</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">redisTemplate</span><span class="o">.</span><span class="na">opsForZSet</span><span class="o">().</span><span class="na">rank</span><span class="o">(</span><span class="n">key</span><span class="o">,</span> <span class="n">value</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="cm">/**
     * è¿”å›å…ƒç´ åœ¨é›†åˆçš„æ’å,æŒ‰å…ƒç´ çš„scoreå€¼ç”±å¤§åˆ°å°æ’åˆ—
     *
     * @param key
     * @param value
     * @return
     */</span>
    <span class="kd">public</span> <span class="nc">Long</span> <span class="nf">zReverseRank</span><span class="o">(</span><span class="nc">String</span> <span class="n">key</span><span class="o">,</span> <span class="nc">Object</span> <span class="n">value</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">redisTemplate</span><span class="o">.</span><span class="na">opsForZSet</span><span class="o">().</span><span class="na">reverseRank</span><span class="o">(</span><span class="n">key</span><span class="o">,</span> <span class="n">value</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="cm">/**
     * è·å–é›†åˆçš„å…ƒç´ , ä»å°åˆ°å¤§æ’åº
     *
     * @param key
     * @param start
     *         å¼€å§‹ä½ç½®
     * @param end
     *         ç»“æŸä½ç½®, -1æŸ¥è¯¢æ‰€æœ‰
     * @return
     */</span>
    <span class="kd">public</span> <span class="nc">Set</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="nf">zRange</span><span class="o">(</span><span class="nc">String</span> <span class="n">key</span><span class="o">,</span> <span class="kt">long</span> <span class="n">start</span><span class="o">,</span> <span class="kt">long</span> <span class="n">end</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">redisTemplate</span><span class="o">.</span><span class="na">opsForZSet</span><span class="o">().</span><span class="na">range</span><span class="o">(</span><span class="n">key</span><span class="o">,</span> <span class="n">start</span><span class="o">,</span> <span class="n">end</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="cm">/**
     * è·å–é›†åˆå…ƒç´ , å¹¶ä¸”æŠŠscoreå€¼ä¹Ÿè·å–
     *
     * @param key
     * @param start
     * @param end
     * @return
     */</span>
    <span class="kd">public</span> <span class="nc">Set</span><span class="o">&lt;</span><span class="nc">ZSetOperations</span><span class="o">.</span><span class="na">TypedTuple</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;&gt;</span> <span class="nf">zRangeWithScores</span><span class="o">(</span><span class="nc">String</span> <span class="n">key</span><span class="o">,</span> <span class="kt">long</span> <span class="n">start</span><span class="o">,</span>
                                                                   <span class="kt">long</span> <span class="n">end</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">redisTemplate</span><span class="o">.</span><span class="na">opsForZSet</span><span class="o">().</span><span class="na">rangeWithScores</span><span class="o">(</span><span class="n">key</span><span class="o">,</span> <span class="n">start</span><span class="o">,</span> <span class="n">end</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="cm">/**
     * æ ¹æ®Scoreå€¼æŸ¥è¯¢é›†åˆå…ƒç´ 
     *
     * @param key
     * @param min
     *         æœ€å°å€¼
     * @param max
     *         æœ€å¤§å€¼
     * @return
     */</span>
    <span class="kd">public</span> <span class="nc">Set</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="nf">zRangeByScore</span><span class="o">(</span><span class="nc">String</span> <span class="n">key</span><span class="o">,</span> <span class="kt">double</span> <span class="n">min</span><span class="o">,</span> <span class="kt">double</span> <span class="n">max</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">redisTemplate</span><span class="o">.</span><span class="na">opsForZSet</span><span class="o">().</span><span class="na">rangeByScore</span><span class="o">(</span><span class="n">key</span><span class="o">,</span> <span class="n">min</span><span class="o">,</span> <span class="n">max</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="cm">/**
     * æ ¹æ®Scoreå€¼æŸ¥è¯¢é›†åˆå…ƒç´ , ä»å°åˆ°å¤§æ’åº
     *
     * @param key
     * @param min
     *         æœ€å°å€¼
     * @param max
     *         æœ€å¤§å€¼
     * @return
     */</span>
    <span class="kd">public</span> <span class="nc">Set</span><span class="o">&lt;</span><span class="nc">ZSetOperations</span><span class="o">.</span><span class="na">TypedTuple</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;&gt;</span> <span class="nf">zRangeByScoreWithScores</span><span class="o">(</span><span class="nc">String</span> <span class="n">key</span><span class="o">,</span>
                                                                          <span class="kt">double</span> <span class="n">min</span><span class="o">,</span> <span class="kt">double</span> <span class="n">max</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">redisTemplate</span><span class="o">.</span><span class="na">opsForZSet</span><span class="o">().</span><span class="na">rangeByScoreWithScores</span><span class="o">(</span><span class="n">key</span><span class="o">,</span> <span class="n">min</span><span class="o">,</span> <span class="n">max</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="cm">/**
     * @param key
     * @param min
     * @param max
     * @param start
     * @param end
     * @return
     */</span>
    <span class="kd">public</span> <span class="nc">Set</span><span class="o">&lt;</span><span class="nc">ZSetOperations</span><span class="o">.</span><span class="na">TypedTuple</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;&gt;</span> <span class="nf">zRangeByScoreWithScores</span><span class="o">(</span><span class="nc">String</span> <span class="n">key</span><span class="o">,</span>
                                                                          <span class="kt">double</span> <span class="n">min</span><span class="o">,</span> <span class="kt">double</span> <span class="n">max</span><span class="o">,</span> <span class="kt">long</span> <span class="n">start</span><span class="o">,</span> <span class="kt">long</span> <span class="n">end</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">redisTemplate</span><span class="o">.</span><span class="na">opsForZSet</span><span class="o">().</span><span class="na">rangeByScoreWithScores</span><span class="o">(</span><span class="n">key</span><span class="o">,</span> <span class="n">min</span><span class="o">,</span> <span class="n">max</span><span class="o">,</span>
                <span class="n">start</span><span class="o">,</span> <span class="n">end</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="cm">/**
     * è·å–é›†åˆçš„å…ƒç´ , ä»å¤§åˆ°å°æ’åº
     *
     * @param key
     * @param start
     * @param end
     * @return
     */</span>
    <span class="kd">public</span> <span class="nc">Set</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="nf">zReverseRange</span><span class="o">(</span><span class="nc">String</span> <span class="n">key</span><span class="o">,</span> <span class="kt">long</span> <span class="n">start</span><span class="o">,</span> <span class="kt">long</span> <span class="n">end</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">redisTemplate</span><span class="o">.</span><span class="na">opsForZSet</span><span class="o">().</span><span class="na">reverseRange</span><span class="o">(</span><span class="n">key</span><span class="o">,</span> <span class="n">start</span><span class="o">,</span> <span class="n">end</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="cm">/**
     * è·å–é›†åˆçš„å…ƒç´ , ä»å¤§åˆ°å°æ’åº, å¹¶è¿”å›scoreå€¼
     *
     * @param key
     * @param start
     * @param end
     * @return
     */</span>
    <span class="kd">public</span> <span class="nc">Set</span><span class="o">&lt;</span><span class="nc">ZSetOperations</span><span class="o">.</span><span class="na">TypedTuple</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;&gt;</span> <span class="nf">zReverseRangeWithScores</span><span class="o">(</span><span class="nc">String</span> <span class="n">key</span><span class="o">,</span>
                                                                          <span class="kt">long</span> <span class="n">start</span><span class="o">,</span> <span class="kt">long</span> <span class="n">end</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">redisTemplate</span><span class="o">.</span><span class="na">opsForZSet</span><span class="o">().</span><span class="na">reverseRangeWithScores</span><span class="o">(</span><span class="n">key</span><span class="o">,</span> <span class="n">start</span><span class="o">,</span>
                <span class="n">end</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="cm">/**
     * æ ¹æ®Scoreå€¼æŸ¥è¯¢é›†åˆå…ƒç´ , ä»å¤§åˆ°å°æ’åº
     *
     * @param key
     * @param min
     * @param max
     * @return
     */</span>
    <span class="kd">public</span> <span class="nc">Set</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="nf">zReverseRangeByScore</span><span class="o">(</span><span class="nc">String</span> <span class="n">key</span><span class="o">,</span> <span class="kt">double</span> <span class="n">min</span><span class="o">,</span>
                                            <span class="kt">double</span> <span class="n">max</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">redisTemplate</span><span class="o">.</span><span class="na">opsForZSet</span><span class="o">().</span><span class="na">reverseRangeByScore</span><span class="o">(</span><span class="n">key</span><span class="o">,</span> <span class="n">min</span><span class="o">,</span> <span class="n">max</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="cm">/**
     * æ ¹æ®Scoreå€¼æŸ¥è¯¢é›†åˆå…ƒç´ , ä»å¤§åˆ°å°æ’åº
     *
     * @param key
     * @param min
     * @param max
     * @return
     */</span>
    <span class="kd">public</span> <span class="nc">Set</span><span class="o">&lt;</span><span class="nc">ZSetOperations</span><span class="o">.</span><span class="na">TypedTuple</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;&gt;</span> <span class="nf">zReverseRangeByScoreWithScores</span><span class="o">(</span>
            <span class="nc">String</span> <span class="n">key</span><span class="o">,</span> <span class="kt">double</span> <span class="n">min</span><span class="o">,</span> <span class="kt">double</span> <span class="n">max</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">redisTemplate</span><span class="o">.</span><span class="na">opsForZSet</span><span class="o">().</span><span class="na">reverseRangeByScoreWithScores</span><span class="o">(</span><span class="n">key</span><span class="o">,</span>
                <span class="n">min</span><span class="o">,</span> <span class="n">max</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="cm">/**
     * @param key
     * @param min
     * @param max
     * @param start
     * @param end
     * @return
     */</span>
    <span class="kd">public</span> <span class="nc">Set</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="nf">zReverseRangeByScore</span><span class="o">(</span><span class="nc">String</span> <span class="n">key</span><span class="o">,</span> <span class="kt">double</span> <span class="n">min</span><span class="o">,</span>
                                            <span class="kt">double</span> <span class="n">max</span><span class="o">,</span> <span class="kt">long</span> <span class="n">start</span><span class="o">,</span> <span class="kt">long</span> <span class="n">end</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">redisTemplate</span><span class="o">.</span><span class="na">opsForZSet</span><span class="o">().</span><span class="na">reverseRangeByScore</span><span class="o">(</span><span class="n">key</span><span class="o">,</span> <span class="n">min</span><span class="o">,</span> <span class="n">max</span><span class="o">,</span>
                <span class="n">start</span><span class="o">,</span> <span class="n">end</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="cm">/**
     * æ ¹æ®scoreå€¼è·å–é›†åˆå…ƒç´ æ•°é‡
     *
     * @param key
     * @param min
     * @param max
     * @return
     */</span>
    <span class="kd">public</span> <span class="nc">Long</span> <span class="nf">zCount</span><span class="o">(</span><span class="nc">String</span> <span class="n">key</span><span class="o">,</span> <span class="kt">double</span> <span class="n">min</span><span class="o">,</span> <span class="kt">double</span> <span class="n">max</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">redisTemplate</span><span class="o">.</span><span class="na">opsForZSet</span><span class="o">().</span><span class="na">count</span><span class="o">(</span><span class="n">key</span><span class="o">,</span> <span class="n">min</span><span class="o">,</span> <span class="n">max</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="cm">/**
     * è·å–é›†åˆå¤§å°
     *
     * @param key
     * @return
     */</span>
    <span class="kd">public</span> <span class="nc">Long</span> <span class="nf">zSize</span><span class="o">(</span><span class="nc">String</span> <span class="n">key</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">redisTemplate</span><span class="o">.</span><span class="na">opsForZSet</span><span class="o">().</span><span class="na">size</span><span class="o">(</span><span class="n">key</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="cm">/**
     * è·å–é›†åˆå¤§å°
     *
     * @param key
     * @return
     */</span>
    <span class="kd">public</span> <span class="nc">Long</span> <span class="nf">zZCard</span><span class="o">(</span><span class="nc">String</span> <span class="n">key</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">redisTemplate</span><span class="o">.</span><span class="na">opsForZSet</span><span class="o">().</span><span class="na">zCard</span><span class="o">(</span><span class="n">key</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="cm">/**
     * è·å–é›†åˆä¸­valueå…ƒç´ çš„scoreå€¼
     *
     * @param key
     * @param value
     * @return
     */</span>
    <span class="kd">public</span> <span class="nc">Double</span> <span class="nf">zScore</span><span class="o">(</span><span class="nc">String</span> <span class="n">key</span><span class="o">,</span> <span class="nc">Object</span> <span class="n">value</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">redisTemplate</span><span class="o">.</span><span class="na">opsForZSet</span><span class="o">().</span><span class="na">score</span><span class="o">(</span><span class="n">key</span><span class="o">,</span> <span class="n">value</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="cm">/**
     * ç§»é™¤æŒ‡å®šç´¢å¼•ä½ç½®çš„æˆå‘˜
     *
     * @param key
     * @param start
     * @param end
     * @return
     */</span>
    <span class="kd">public</span> <span class="nc">Long</span> <span class="nf">zRemoveRange</span><span class="o">(</span><span class="nc">String</span> <span class="n">key</span><span class="o">,</span> <span class="kt">long</span> <span class="n">start</span><span class="o">,</span> <span class="kt">long</span> <span class="n">end</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">redisTemplate</span><span class="o">.</span><span class="na">opsForZSet</span><span class="o">().</span><span class="na">removeRange</span><span class="o">(</span><span class="n">key</span><span class="o">,</span> <span class="n">start</span><span class="o">,</span> <span class="n">end</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="cm">/**
     * æ ¹æ®æŒ‡å®šçš„scoreå€¼çš„èŒƒå›´æ¥ç§»é™¤æˆå‘˜
     *
     * @param key
     * @param min
     * @param max
     * @return
     */</span>
    <span class="kd">public</span> <span class="nc">Long</span> <span class="nf">zRemoveRangeByScore</span><span class="o">(</span><span class="nc">String</span> <span class="n">key</span><span class="o">,</span> <span class="kt">double</span> <span class="n">min</span><span class="o">,</span> <span class="kt">double</span> <span class="n">max</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">redisTemplate</span><span class="o">.</span><span class="na">opsForZSet</span><span class="o">().</span><span class="na">removeRangeByScore</span><span class="o">(</span><span class="n">key</span><span class="o">,</span> <span class="n">min</span><span class="o">,</span> <span class="n">max</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="cm">/**
     * è·å–keyå’ŒotherKeyçš„å¹¶é›†å¹¶å­˜å‚¨åœ¨destKeyä¸­
     *
     * @param key
     * @param otherKey
     * @param destKey
     * @return
     */</span>
    <span class="kd">public</span> <span class="nc">Long</span> <span class="nf">zUnionAndStore</span><span class="o">(</span><span class="nc">String</span> <span class="n">key</span><span class="o">,</span> <span class="nc">String</span> <span class="n">otherKey</span><span class="o">,</span> <span class="nc">String</span> <span class="n">destKey</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">redisTemplate</span><span class="o">.</span><span class="na">opsForZSet</span><span class="o">().</span><span class="na">unionAndStore</span><span class="o">(</span><span class="n">key</span><span class="o">,</span> <span class="n">otherKey</span><span class="o">,</span> <span class="n">destKey</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="cm">/**
     * @param key
     * @param otherKeys
     * @param destKey
     * @return
     */</span>
    <span class="kd">public</span> <span class="nc">Long</span> <span class="nf">zUnionAndStore</span><span class="o">(</span><span class="nc">String</span> <span class="n">key</span><span class="o">,</span> <span class="nc">Collection</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">otherKeys</span><span class="o">,</span>
                               <span class="nc">String</span> <span class="n">destKey</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">redisTemplate</span><span class="o">.</span><span class="na">opsForZSet</span><span class="o">()</span>
                <span class="o">.</span><span class="na">unionAndStore</span><span class="o">(</span><span class="n">key</span><span class="o">,</span> <span class="n">otherKeys</span><span class="o">,</span> <span class="n">destKey</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="cm">/**
     * äº¤é›†
     *
     * @param key
     * @param otherKey
     * @param destKey
     * @return
     */</span>
    <span class="kd">public</span> <span class="nc">Long</span> <span class="nf">zIntersectAndStore</span><span class="o">(</span><span class="nc">String</span> <span class="n">key</span><span class="o">,</span> <span class="nc">String</span> <span class="n">otherKey</span><span class="o">,</span>
                                   <span class="nc">String</span> <span class="n">destKey</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">redisTemplate</span><span class="o">.</span><span class="na">opsForZSet</span><span class="o">().</span><span class="na">intersectAndStore</span><span class="o">(</span><span class="n">key</span><span class="o">,</span> <span class="n">otherKey</span><span class="o">,</span>
                <span class="n">destKey</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="cm">/**
     * äº¤é›†
     *
     * @param key
     * @param otherKeys
     * @param destKey
     * @return
     */</span>
    <span class="kd">public</span> <span class="nc">Long</span> <span class="nf">zIntersectAndStore</span><span class="o">(</span><span class="nc">String</span> <span class="n">key</span><span class="o">,</span> <span class="nc">Collection</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">otherKeys</span><span class="o">,</span>
                                   <span class="nc">String</span> <span class="n">destKey</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">redisTemplate</span><span class="o">.</span><span class="na">opsForZSet</span><span class="o">().</span><span class="na">intersectAndStore</span><span class="o">(</span><span class="n">key</span><span class="o">,</span> <span class="n">otherKeys</span><span class="o">,</span>
                <span class="n">destKey</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="cm">/**
     * @param key
     * @param options
     * @return
     */</span>
    <span class="kd">public</span> <span class="nc">Cursor</span><span class="o">&lt;</span><span class="nc">ZSetOperations</span><span class="o">.</span><span class="na">TypedTuple</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;&gt;</span> <span class="nf">zScan</span><span class="o">(</span><span class="nc">String</span> <span class="n">key</span><span class="o">,</span> <span class="nc">ScanOptions</span> <span class="n">options</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">redisTemplate</span><span class="o">.</span><span class="na">opsForZSet</span><span class="o">().</span><span class="na">scan</span><span class="o">(</span><span class="n">key</span><span class="o">,</span> <span class="n">options</span><span class="o">);</span>
    <span class="o">}</span>
</code></pre></div></div>
:ET