I",<h2 id="javaä»£ç ">javaä»£ç </h2>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>public interface CheckDayInfoRepository extends JpaRepository&lt;CheckDayInfo, Long&gt;, JpaSpecificationExecutor&lt;CheckDayInfo&gt; {
    List&lt;CheckDayInfo&gt; findAllByDate(String date);

    @Query(value = "SELECT me.address as address,me.totalChecked as totalChecked,info.checked as checked,me.avatar as avatar,info.checkedTime as checkedTime," +
            "info.upvoteNumber as upvoteNumber,me.username as username" +
            " FROM Member me LEFT  JOIN  (SELECT * FROM CheckDayInfo  WHERE date= ?1 ) info  ON me.username=info.username WHERE me.status= 0 " +
            "ORDER by info.checked DESC , info.checkedTime DESC",
            countQuery = "select COUNT(*) FROM Member me LEFT  JOIN  (SELECT * FROM CheckDayInfo  WHERE  date= ?1 ) info  " +
                    "ON me.username=info.username WHERE me.status= 0",
            nativeQuery = true)
    Page&lt;CheckDayVO&gt; selectCheckInfoByDate(String date, Pageable pageable);
    // æŸ¥è¯¢æ¡ä»¶ meusername
    @Query(value = "SELECT new com.ojeveryday.backend.pojo.dto.CheckDayVO(me.address,me.totalChecked,info.checked,me.avatar,info.checkedTime,info.upvoteNumber,me.username) " +
            "FROM CheckDayInfo info LEFT JOIN Member me ON info.username = me.username and me.status= 0 and info.date = ?1 ORDER by info.checked DESC, info.checkedTime ASC")
    Page&lt;CheckDayVO&gt; selectAllByDate(String date, Pageable pageable);
</code></pre></div></div>

<h3 id="åˆ†é¡µå¼‚å¸¸">åˆ†é¡µå¼‚å¸¸</h3>
<p><strong>é”™è¯¯å¼‚å¸¸</strong>ï¼Œåˆ†é¡µæŸ¥è¯¢æŠ¥é”™ï¼Œ <code class="highlighter-rouge">Unknown column 'me' in 'field list' </code>
<strong>è§£å†³æ–¹æ³•</strong> å¯é€šè¿‡è‡ªå·±å†™ <code class="highlighter-rouge">countQuery = </code> è§£å†³</p>

<ol>
  <li><code class="highlighter-rouge">No converter found capable of converting from type [org.springframework.data.jpa.repository....</code>
    <h3 id="å¼‚å¸¸æ—¥å¿—">å¼‚å¸¸æ—¥å¿—</h3>
    <p>```java
Hibernate: SELECT me.address as address,me.totalChecked as totalChecked,info.checked as checked,me.avatar as avatar,info.checkedTime as checkedTime,info.upvoteNumber as upvoteNumber,me.username as username FROM Member me LEFT  JOIN  (SELECT * FROM CheckDayInfo  WHERE date= ? ) info  ON me.username=info.username WHERE me.status= 0 ORDER by info.checked DESC , info.checkedTime DESC limit ?
Hibernate: select COUNT(*) FROM Member me LEFT  JOIN  (SELECT * FROM CheckDayInfo  WHERE  date= ? ) info  ON me.username=info.username WHERE me.status= 0
2020-04-21 01:49:27.398 ERROR 56349 â€” [p-nio-80-exec-1] c.o.b.c.handler.GlobalExceptionHandler   : [everyday]-[unknown error happen]-No converter found capable of converting from type [org.springframework.data.jpa.repository.query.AbstractJpaQuery$TupleConverter$TupleBackedMap] to type [com.ojeveryday.backend.pojo.dto.CheckDayVO]</p>
  </li>
</ol>

<p>org.springframework.core.convert.ConverterNotFoundException: No converter found capable of converting from type [org.springframework.data.jpa.repository.query.AbstractJpaQuery$TupleConverter$TupleBackedMap] to type [com.ojeveryday.backend.pojo.dto.CheckDayVO]
```</p>

<p><strong>é”™è¯¯åŸå› </strong> åœ¨ <code class="highlighter-rouge">nativeQuery = true</code>åªèƒ½è¿”å› JpaRepository&lt;CheckDayInfo, Long&gt; ä¸­çš„CheckDayInfo è€Œæˆ‘çš„æ–¹æ³•è¿”å›çš„æ˜¯ <code class="highlighter-rouge">CheckDayVO</code></p>

<ul>
  <li><a href="https://blog.csdn.net/moshowgame/article/details/80537196">JPAé”™è¯¯ä¹‹Failed to convert from type [java.lang.Object[]] to type</a></li>
</ul>
:ET