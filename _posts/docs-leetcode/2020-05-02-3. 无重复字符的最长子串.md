---
title: 3. æ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²
permalink: /leetcode/2020/0502/002/08
tags: leetcode æ»‘åŠ¨çª—å£
key: leetcode-2020-0502-002-08
modify_date: 2020-05-13
---
- __éš¾åº¦__ï¼š`ä¸­ç­‰`{:.warning}
- __æœ¬é¢˜æ¶‰åŠç®—æ³•__ï¼š `æ»‘åŠ¨çª—å£`{:.success}
- __æ€è·¯__ï¼š `æ»‘åŠ¨çª—å£`{:.info}
- __ç±»ä¼¼é¢˜å‹__:
  - [5393. å¯è·å¾—çš„æœ€å¤§ç‚¹æ•°](/leetcode/2020/0426/025)

---

### é¢˜ç›® [3. æ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²](https://leetcode-cn.com/problems/longest-substring-without-repeating-characters/)
ç»™å®šä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œè¯·ä½ æ‰¾å‡ºå…¶ä¸­ä¸å«æœ‰é‡å¤å­—ç¬¦çš„Â æœ€é•¿å­ä¸²Â çš„é•¿åº¦ã€‚

ç¤ºä¾‹Â 1:
```
è¾“å…¥: "abcabcbb"
è¾“å‡º: 3
è§£é‡Š : å› ä¸ºæ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²æ˜¯ "abc"ï¼Œæ‰€ä»¥å…¶é•¿åº¦ä¸º 3ã€‚
```
ç¤ºä¾‹ 2:
```
è¾“å…¥: "bbbbb"
è¾“å‡º: 1
è§£é‡Š: å› ä¸ºæ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²æ˜¯ "b"ï¼Œæ‰€ä»¥å…¶é•¿åº¦ä¸º 1ã€‚
```
ç¤ºä¾‹ 3:
```
è¾“å…¥: "pwwkew"
è¾“å‡º: 3
è§£é‡Š: å› ä¸ºæ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²æ˜¯Â "wke"ï¼Œæ‰€ä»¥å…¶é•¿åº¦ä¸º 3ã€‚
Â     è¯·æ³¨æ„ï¼Œä½ çš„ç­”æ¡ˆå¿…é¡»æ˜¯ å­ä¸² çš„é•¿åº¦ï¼Œ"pwke"Â æ˜¯ä¸€ä¸ªå­åºåˆ—ï¼Œä¸æ˜¯å­ä¸²ã€‚
```

### æ–¹æ³•ä¸€ æ»‘åŠ¨çª—å£
#### è§£é¢˜æ€è·¯
- è¿™ç§æ•°ç»„ç±»å‹é¢˜ç›®å¾ˆå®¹æ˜“ä¼šæƒ³åˆ°é€šè¿‡ `æš´åŠ›` å»è§£å†³é—®é¢˜ï¼Œå½“ç„¶å¯ä»¥ï¼Œè€Œä¸”ä¸ºæ–°çš„æ–¹æ³•æä¾›æ€è·¯
- æš´åŠ›è§£æ³•æ—¶é—´å¤æ‚åº¦è¾ƒé«˜ï¼Œä¼šè¾¾åˆ° $O(n^2)$ï¼Œæ‰€ä»¥æˆ‘ä»¬å€Ÿç”¨ç©ºé—´ `å“ˆå¸Œè¡¨` é‡‡å– `æ»‘åŠ¨çª—å£` çš„æ–¹æ³•é™ä½æ—¶é—´å¤æ‚åº¦ (å€Ÿç”¨ç©ºé—´é™æ—¶é—´)
- é€šè¿‡ `map` è®°å½•å…ƒç´ åŠä¸‹æ ‡ï¼ŒåŒæ—¶é€šè¿‡ `left` è®°å½•å·¦è¾¹ç•Œ
- å¦‚å›¾(æ–°æ‰‹ï¼Œå›¾åšçš„ä¸å¥½)))

![pic](/assets/images/leetcode/0513/leetcode_pic.png)

#### ä»£ç 
##### python
```python
class Solution:
    def lengthOfLongestSubstring(self, s: str) -> int:
        left = 0
        len_max = 0
        sub_dict = {}
        sub_len = len(s)
        for i in range(len(s)):
            if s[i] in sub_dict:
                len_max = max(len_max,i-left) # å½“å‡ºç°é‡å¤çš„å…ƒç´ ï¼Œå…ˆåˆ¤æ–­æœ€é•¿å­ä¸²çš„é•¿åº¦
                left_curr = sub_dict.get(s[i]) + 1 # è®°å½•é›¶æ—¶çš„å·¦è¾¹ç•Œ
                # åˆ¤æ–­å½“å‰å·¦è¾¹ç•Œå’Œä¸Šä¸€ä¸ªå·¦è¾¹ç•Œçš„å¤§å° å½“å‰è¾¹ç•Œä¸‹é›¨ä¸Šä¸€ä¸ªè¾¹ç•Œ åˆ™å·¦è¾¹ç•Œä¸å˜
                # å¦‚ å­—ç¬¦ä¸² "abba"
                left = left_curr if left_curr > left else left
            sub_dict[s[i]] = i
        return max(len_max,sub_len-left)
```

##### java
```java
class Solution {
    public int lengthOfLongestSubstring(String s) {
        Map<Character,Integer> map = new HashMap<>();
        int max = 0;
        int left = 0;
        int len = s.length();
        for(int i=0;i<s.length();i++) {
            if (map.containsKey(s.charAt(i))) {
                max = Math.max(max,i - left); // å½“å‡ºç°é‡å¤çš„å…ƒç´ ï¼Œå…ˆåˆ¤æ–­æœ€é•¿å­ä¸²çš„é•¿åº¦
                int cur = map.get(s.charAt(i))+1; // è®°å½•é›¶æ—¶çš„å·¦è¾¹ç•Œ
                // åˆ¤æ–­å½“å‰å·¦è¾¹ç•Œå’Œä¸Šä¸€ä¸ªå·¦è¾¹ç•Œçš„å¤§å° å½“å‰è¾¹ç•Œä¸‹é›¨ä¸Šä¸€ä¸ªè¾¹ç•Œ åˆ™å·¦è¾¹ç•Œä¸å˜
                // å¦‚ å­—ç¬¦ä¸² "abba"
                left =  cur > left? cur :left;
            }
            map.put(s.charAt(i),i);
        }
        return Math.max(max, len-left);
    }
}
```


#### å¤æ‚åº¦åˆ†æ
- æ—¶é—´å¤æ‚åº¦ï¼š$O(n)$  å¦‚å­—ç¬¦ä¸²é•¿åº¦ä¸º $n$ åˆ™æ‰€æœ‰å…ƒç´ æ‰§è¡Œä¸€é
- ç©ºé—´å¤æ‚åº¦ï¼š$O(n)$  å¦‚æ‰€æœ‰çš„å­—ç¬¦ä¸²éƒ½ä¸é‡å¤ï¼Œåˆ™ `map` éœ€è¦ä¿å­˜ $n$ ä¸ªå…ƒç´ 


### æ–¹æ³•äºŒ æ»‘åŠ¨çª—å£
#### è§£é¢˜æ€è·¯
- æˆ‘ä»¬åªè¦æŠŠé˜Ÿåˆ—çš„å·¦è¾¹çš„å…ƒç´ ç§»å‡ºå°±è¡Œäº†ï¼Œç›´åˆ°æ»¡è¶³é¢˜ç›®è¦æ±‚ï¼(ä¸åœ¨å‡ºç°é‡å¤å­—ç¬¦ä¸²)
- ä¸€ç›´ç»´æŒè¿™æ ·çš„é˜Ÿåˆ—ï¼Œæ‰¾å‡ºé˜Ÿåˆ—å‡ºç°æœ€é•¿çš„é•¿åº¦æ—¶å€™ï¼Œæ±‚å‡ºè§£ï¼
- æ—¶é—´å¤æ‚åº¦ï¼š$O(n)$

### ä»£ç 
#### python
```python
class Solution(object):
    def lengthOfLongestSubstring(self, s):
        if not s: return 0
        left = 0
        curLen = 0 # å½“å‰é•¿åº¦
        maxLen = 0 # æœ€é•¿å­—ç¬¦ä¸²
        lookup = set() # ç”¨æ¥å­˜å‚¨æ»‘åŠ¨çš„å­—ç¬¦ä¸²
        for i in range(len(s)):
            curLen +=1

            # è¿™é‡Œæ˜¯whileå¾ªç¯ï¼Œå½“é‡å¤å­—ç¬¦ä¸²ä¸€ç›´åœ¨é›†åˆå½“ä¸­ï¼Œä¼šä¸€ç›´åˆ é™¤å·¦è¾¹çš„å­—ç¬¦ä¸²ï¼Œç›´åˆ°åˆ é™¤é‡å¤å­—ç¬¦ä¸²   
            while s[i] in lookup:
                lookup.remove(s[left])
                left += 1
                curLen -= 1

            #æ¯”è¾ƒå½“å‰é•¿åº¦å’Œæœ€é•¿é•¿åº¦
            if curLen > maxLen:maxLen=curLen
            lookup.add(s[i])
        return maxLen
```

#### java
```java
class Solution {
    public int lengthOfLongestSubstring(String s) {
       int left = 0;
        Set<Character> lookup = new HashSet<>();
        int cul_len = 0;
        int max_len = 0;
        for (int i=0;i<s.length();i++) {
            cul_len += 1;
            while (lookup.contains(s.charAt(i))) {
                lookup.remove(s.charAt(left));
                left += 1;
                cul_len -= 1;
            }

            if(cul_len>max_len)
                max_len = cul_len;
            lookup.add(s.charAt(i));
        }
        return max_len;
    }
}
```


- __å¦‚æœä½ è§‰å¾—æœ¬æ–‡å¯¹ä½ æœ‰å¸®åŠ©ï¼Œè¯·ç‚¹èµğŸ‘æ”¯æŒ__
- __å¦‚æœæœ‰ç–‘æƒ‘æˆ–è€…è¡¨è¾¾ä¸åˆ°ä½çš„é¢åœ°æ–¹ ï¼Œè¯·åœ¨ä¸‹é¢ğŸ‘‡è¯„è®ºåŒºæŒ‡å‡º__
