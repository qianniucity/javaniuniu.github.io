---
title: 5398. ç»Ÿè®¡äºŒå‰æ ‘ä¸­å¥½èŠ‚ç‚¹çš„æ•°ç›®
permalink: /leetcode/2020/0517/008
tags: leetcode æ·±åº¦ä¼˜å…ˆæœç´¢
key: leetcode-2020-0517-008
---
- __éš¾åº¦__ï¼š`ä¸­ç­‰`{:.warning}
- __æœ¬é¢˜æ¶‰åŠç®—æ³•__ï¼š  `æ·±åº¦ä¼˜å…ˆæœç´¢`{:.success}
- __æ€è·¯__ï¼š   `æ·±åº¦ä¼˜å…ˆæœç´¢`{:.info}
- __ç±»ä¼¼é¢˜å‹__:

---

### é¢˜ç›® [5398. ç»Ÿè®¡äºŒå‰æ ‘ä¸­å¥½èŠ‚ç‚¹çš„æ•°ç›®](https://leetcode-cn.com/contest/biweekly-contest-26/problems/count-good-nodes-in-binary-tree/)

ç»™ä½ ä¸€æ£µæ ¹ä¸º `root` çš„äºŒå‰æ ‘ï¼Œè¯·ä½ è¿”å›äºŒå‰æ ‘ä¸­å¥½èŠ‚ç‚¹çš„æ•°ç›®ã€‚

ã€Œå¥½èŠ‚ç‚¹ã€X å®šä¹‰ä¸ºï¼šä»æ ¹åˆ°è¯¥èŠ‚ç‚¹ X æ‰€ç»è¿‡çš„èŠ‚ç‚¹ä¸­ï¼Œæ²¡æœ‰ä»»ä½•èŠ‚ç‚¹çš„å€¼å¤§äº X çš„å€¼ã€‚


#### ç¤ºä¾‹ 1ï¼š

![pic1](/assets/images/leetcode/0517/test_sample_1.png)

```
è¾“å…¥ï¼šroot = [3,1,4,3,null,1,5]
è¾“å‡ºï¼š4
è§£é‡Šï¼šå›¾ä¸­è“è‰²èŠ‚ç‚¹ä¸ºå¥½èŠ‚ç‚¹ã€‚
æ ¹èŠ‚ç‚¹ (3) æ°¸è¿œæ˜¯ä¸ªå¥½èŠ‚ç‚¹ã€‚
èŠ‚ç‚¹ 4 -> (3,4) æ˜¯è·¯å¾„ä¸­çš„æœ€å¤§å€¼ã€‚
èŠ‚ç‚¹ 5 -> (3,4,5) æ˜¯è·¯å¾„ä¸­çš„æœ€å¤§å€¼ã€‚
èŠ‚ç‚¹ 3 -> (3,1,3) æ˜¯è·¯å¾„ä¸­çš„æœ€å¤§å€¼ã€‚
```

#### ç¤ºä¾‹ 2ï¼š

![pic2](/assets/images/leetcode/0517/test_sample_2.png)
```
è¾“å…¥ï¼šroot = [3,3,null,4,2]
è¾“å‡ºï¼š3
è§£é‡Šï¼šèŠ‚ç‚¹ 2 -> (3, 3, 2) ä¸æ˜¯å¥½èŠ‚ç‚¹ï¼Œå› ä¸º "3" æ¯”å®ƒå¤§ã€‚
ç¤ºä¾‹ 3ï¼š

è¾“å…¥ï¼šroot = [1]
è¾“å‡ºï¼š1
è§£é‡Šï¼šæ ¹èŠ‚ç‚¹æ˜¯å¥½èŠ‚ç‚¹ã€‚
```

#### æç¤ºï¼š
```
äºŒå‰æ ‘ä¸­èŠ‚ç‚¹æ•°ç›®èŒƒå›´æ˜¯ [1, 10^5] ã€‚
æ¯ä¸ªèŠ‚ç‚¹æƒå€¼çš„èŒƒå›´æ˜¯ [-10^4, 10^4] ã€‚
```

### æ–¹æ³•ä¸€ æ·±åº¦ä¼˜å…ˆæœç´¢

```python
# Definition for a binary tree node.
# class TreeNode:
#     def __init__(self, val=0, left=None, right=None):
#         self.val = val
#         self.left = left
#         self.right = right
class Solution:
    def goodNodes(self, root: TreeNode) -> int:

        def dfs(root, curr_val):
            if not root:return 0 # ç»ˆæ­¢æ¡ä»¶
            count = 0
            if root.val >= curr_val:
                count += 1
                curr_val = root.val
            count += dfs(root.left,curr_val)
            count += dfs(root.right,curr_val)
            return count
        return dfs(root,- 10 ** 5)
```

- __å¦‚æœä½ è§‰å¾—æœ¬æ–‡å¯¹ä½ æœ‰å¸®åŠ©ï¼Œè¯·ç‚¹èµğŸ‘æ”¯æŒ__
- __å¦‚æœæœ‰ç–‘æƒ‘æˆ–è€…è¡¨è¾¾ä¸åˆ°ä½çš„é¢åœ°æ–¹ ï¼Œè¯·åœ¨ä¸‹é¢ğŸ‘‡è¯„è®ºåŒºæŒ‡å‡º__
